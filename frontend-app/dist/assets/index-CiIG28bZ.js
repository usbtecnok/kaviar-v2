import{c as Vo,j as s,B as S,a as N,A as Ve,T as y,H as Ho,b as Go,L as Ir,d as Zo,e as qo,I as Ko,M as Jo,f as ie,E as Yo,C as pe,g as Xo,P as jt,D as ke,h as Mi,i as Le,k as at,l as Xn,m as Qn,n as er,o as Oe,F as Qo,S as ea,G as Pi,p as G,q as Z,r as ye,s as rt,t as fe,u as Oi,v as Lt,w as Ct,x as ki,y as Ri,z as un,J as Se,K as ta,N as Ai,O as Un,Q as He,R as Ge,U as Ze,W as Di,V as na,X as ra,Y as Ti,Z as Ii,_ as sa,$ as _i,a0 as ia,a1 as yt,a2 as X,a3 as oa,a4 as aa,a5 as it,a6 as Bi,a7 as la,a8 as ca,a9 as da,aa as ua,ab as ha,ac as hn,ad as pn,ae as fn,af as Be,ag as z,ah as gn,ai as tr,aj as pa,ak as _r,al as zi,am as fa,an as Ui,ao as Sn,ap as En,aq as Mn,ar as Pn,as as Ni,at as ga,au as ma,av as va,aw as xa,ax as ya}from"./mui-Ct_PY1fI.js";import{c as nt,r as l,R as ba}from"./vendor-rnZ2AdyV.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Fi,Br=nt;Fi=Br.createRoot,Br.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wt(){return wt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wt.apply(this,arguments)}var Fe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fe||(Fe={}));const zr="popstate";function ja(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:c}=r.location;return Nn("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xt(i)}return Ca(e,n,null,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function La(){return Math.random().toString(36).substr(2,8)}function Ur(t,e){return{usr:t.state,key:t.key,idx:e}}function Nn(t,e,n,r){return n===void 0&&(n=null),wt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lt(e):e,{state:n,key:e&&e.key||r||La()})}function Xt(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lt(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ca(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c=Fe.Pop,d=null,u=h();u==null&&(u=0,a.replaceState(wt({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){c=Fe.Pop;let g=h(),w=g==null?null:g-u;u=g,d&&d({action:c,location:m.location,delta:w})}function v(g,w){c=Fe.Push;let C=Nn(m.location,g,w);u=h()+1;let k=Ur(C,u),b=m.createHref(C);try{a.pushState(k,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(b)}o&&d&&d({action:c,location:m.location,delta:1})}function x(g,w){c=Fe.Replace;let C=Nn(m.location,g,w);u=h();let k=Ur(C,u),b=m.createHref(C);a.replaceState(k,"",b),o&&d&&d({action:c,location:m.location,delta:0})}function p(g){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof g=="string"?g:Xt(g);return C=C.replace(/ $/,"%20"),ge(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let m={get action(){return c},get location(){return t(i,a)},listen(g){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(zr,f),d=g,()=>{i.removeEventListener(zr,f),d=null}},createHref(g){return e(i,g)},createURL:p,encodeLocation(g){let w=p(g);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:x,go(g){return a.go(g)}};return m}var Nr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Nr||(Nr={}));function wa(t,e,n){return n===void 0&&(n="/"),Sa(t,e,n)}function Sa(t,e,n,r){let i=typeof e=="string"?lt(e):e,o=rr(i.pathname||"/",n);if(o==null)return null;let a=Wi(t);Ea(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let u=za(o);c=Ia(a[d],u)}return c}function Wi(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};d.relativePath.startsWith("/")&&(ge(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let u=We([r,d.relativePath]),h=n.concat(d);o.children&&o.children.length>0&&(ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wi(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Da(u,o.index),routesMeta:h})};return t.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let d of $i(o.path))i(o,a,d)}),e}function $i(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=$i(r.join("/")),c=[];return c.push(...a.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...a),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function Ea(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ta(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ma=/^:[\w-]+$/,Pa=3,Oa=2,ka=1,Ra=10,Aa=-2,Fr=t=>t==="*";function Da(t,e){let n=t.split("/"),r=n.length;return n.some(Fr)&&(r+=Aa),e&&(r+=Oa),n.filter(i=>!Fr(i)).reduce((i,o)=>i+(Ma.test(o)?Pa:o===""?ka:Ra),r)}function Ta(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ia(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],u=c===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=_a({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),v=d.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:We([o,f.pathname]),pathnameBase:$a(We([o,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(o=We([o,f.pathnameBase]))}return a}function _a(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ba(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:v,isOptional:x}=h;if(v==="*"){let m=c[f]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=c[f];return x&&!p?u[v]=void 0:u[v]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function Ba(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function za(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Ua=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=t=>Ua.test(t);function Fa(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lt(t):t,o;if(n)if(Na(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),nr(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=Wr(n.substring(1),"/"):o=Wr(n,e)}else o=e;return{pathname:o,search:Va(r),hash:Ha(i)}}function Wr(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function On(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wa(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sr(t,e){let n=Wa(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ir(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=lt(t):(i=wt({},t),ge(!i.pathname||!i.pathname.includes("?"),On("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),On("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),On("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,c;if(a==null)c=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}c=f>=0?e[f]:"/"}let d=Fa(i,c),u=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}const We=t=>t.join("/").replace(/\/\/+/g,"/"),$a=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Va=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ha=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ga(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vi=["post","put","patch","delete"];new Set(Vi);const Za=["get",...Vi];new Set(Za);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function St(){return St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},St.apply(this,arguments)}const or=l.createContext(null),qa=l.createContext(null),qe=l.createContext(null),mn=l.createContext(null),ze=l.createContext({outlet:null,matches:[],isDataRoute:!1}),Hi=l.createContext(null);function Ka(t,e){let{relative:n}=e===void 0?{}:e;ct()||ge(!1);let{basename:r,navigator:i}=l.useContext(qe),{hash:o,pathname:a,search:c}=Zi(t,{relative:n}),d=a;return r!=="/"&&(d=a==="/"?r:We([r,a])),i.createHref({pathname:d,search:c,hash:o})}function ct(){return l.useContext(mn)!=null}function Ke(){return ct()||ge(!1),l.useContext(mn).location}function Gi(t){l.useContext(qe).static||l.useLayoutEffect(t)}function Ae(){let{isDataRoute:t}=l.useContext(ze);return t?cl():Ja()}function Ja(){ct()||ge(!1);let t=l.useContext(or),{basename:e,future:n,navigator:r}=l.useContext(qe),{matches:i}=l.useContext(ze),{pathname:o}=Ke(),a=JSON.stringify(sr(i,n.v7_relativeSplatPath)),c=l.useRef(!1);return Gi(()=>{c.current=!0}),l.useCallback(function(u,h){if(h===void 0&&(h={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let f=ir(u,JSON.parse(a),o,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:We([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,o,t])}function Ya(){let{matches:t}=l.useContext(ze),e=t[t.length-1];return e?e.params:{}}function Zi(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=l.useContext(qe),{matches:i}=l.useContext(ze),{pathname:o}=Ke(),a=JSON.stringify(sr(i,r.v7_relativeSplatPath));return l.useMemo(()=>ir(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function Xa(t,e){return Qa(t,e)}function Qa(t,e,n,r){ct()||ge(!1);let{navigator:i}=l.useContext(qe),{matches:o}=l.useContext(ze),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let u=Ke(),h;if(e){var f;let g=typeof e=="string"?lt(e):e;d==="/"||(f=g.pathname)!=null&&f.startsWith(d)||ge(!1),h=g}else h=u;let v=h.pathname||"/",x=v;if(d!=="/"){let g=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=wa(t,{pathname:x}),m=sl(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:We([d,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:We([d,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return e&&m?l.createElement(mn.Provider,{value:{location:St({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Fe.Pop}},m):m}function el(){let t=ll(),e=Ga(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},e),n?l.createElement("pre",{style:i},n):null,null)}const tl=l.createElement(el,null);class nl extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?l.createElement(ze.Provider,{value:this.props.routeContext},l.createElement(Hi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rl(t){let{routeContext:e,match:n,children:r}=t,i=l.useContext(or);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(ze.Provider,{value:e},r)}function sl(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let h=a.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);h>=0||ge(!1),a=a.slice(0,Math.min(a.length,h+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:v,errors:x}=n,p=f.route.loader&&v[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||p){d=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,v)=>{let x,p=!1,m=null,g=null;n&&(x=c&&f.route.id?c[f.route.id]:void 0,m=f.route.errorElement||tl,d&&(u<0&&v===0?(dl("route-fallback"),p=!0,g=null):u===v&&(p=!0,g=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,v+1)),C=()=>{let k;return x?k=m:p?k=g:f.route.Component?k=l.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=h,l.createElement(rl,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?l.createElement(nl,{location:n.location,revalidation:n.revalidation,component:m,error:x,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var qi=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qi||{}),Ki=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ki||{});function il(t){let e=l.useContext(or);return e||ge(!1),e}function ol(t){let e=l.useContext(qa);return e||ge(!1),e}function al(t){let e=l.useContext(ze);return e||ge(!1),e}function Ji(t){let e=al(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function ll(){var t;let e=l.useContext(Hi),n=ol(),r=Ji();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cl(){let{router:t}=il(qi.UseNavigateStable),e=Ji(Ki.UseNavigateStable),n=l.useRef(!1);return Gi(()=>{n.current=!0}),l.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,St({fromRouteId:e},o)))},[t,e])}const $r={};function dl(t,e,n){$r[t]||($r[t]=!0)}function ul(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hl(t){let{to:e,replace:n,state:r,relative:i}=t;ct()||ge(!1);let{future:o,static:a}=l.useContext(qe),{matches:c}=l.useContext(ze),{pathname:d}=Ke(),u=Ae(),h=ir(e,sr(c,o.v7_relativeSplatPath),d,i==="path"),f=JSON.stringify(h);return l.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function ue(t){ge(!1)}function pl(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fe.Pop,navigator:o,static:a=!1,future:c}=t;ct()&&ge(!1);let d=e.replace(/^\/*/,"/"),u=l.useMemo(()=>({basename:d,navigator:o,static:a,future:St({v7_relativeSplatPath:!1},c)}),[d,c,o,a]);typeof r=="string"&&(r=lt(r));let{pathname:h="/",search:f="",hash:v="",state:x=null,key:p="default"}=r,m=l.useMemo(()=>{let g=rr(h,d);return g==null?null:{location:{pathname:g,search:f,hash:v,state:x,key:p},navigationType:i}},[d,h,f,v,x,p,i]);return m==null?null:l.createElement(qe.Provider,{value:u},l.createElement(mn.Provider,{children:n,value:m}))}function Mt(t){let{children:e,location:n}=t;return Xa(Fn(e),n)}new Promise(()=>{});function Fn(t,e){e===void 0&&(e=[]);let n=[];return l.Children.forEach(t,(r,i)=>{if(!l.isValidElement(r))return;let o=[...e,i];if(r.type===l.Fragment){n.push.apply(n,Fn(r.props.children,o));return}r.type!==ue&&ge(!1),!r.props.index||!r.props.children||ge(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Fn(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wn.apply(this,arguments)}function fl(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gl(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ml(t,e){return t.button===0&&(!e||e==="_self")&&!gl(t)}const vl=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xl="6";try{window.__reactRouterVersion=xl}catch{}const yl="startTransition",Vr=ba[yl];function bl(t){let{basename:e,children:n,future:r,window:i}=t,o=l.useRef();o.current==null&&(o.current=ja({window:i,v5Compat:!0}));let a=o.current,[c,d]=l.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=l.useCallback(f=>{u&&Vr?Vr(()=>d(f)):d(f)},[d,u]);return l.useLayoutEffect(()=>a.listen(h),[a,h]),l.useEffect(()=>ul(r),[r]),l.createElement(pl,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const jl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ll=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=l.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:c,target:d,to:u,preventScrollReset:h,viewTransition:f}=e,v=fl(e,vl),{basename:x}=l.useContext(qe),p,m=!1;if(typeof u=="string"&&Ll.test(u)&&(p=u,jl))try{let k=new URL(window.location.href),b=u.startsWith("//")?new URL(k.protocol+u):new URL(u),j=rr(b.pathname,x);b.origin===k.origin&&j!=null?u=j+b.search+b.hash:m=!0}catch{}let g=Ka(u,{relative:i}),w=Cl(u,{replace:a,state:c,target:d,preventScrollReset:h,relative:i,viewTransition:f});function C(k){r&&r(k),k.defaultPrevented||w(k)}return l.createElement("a",Wn({},v,{href:p||g,onClick:m||o?r:C,ref:n,target:d}))});var Hr;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hr||(Hr={}));var Gr;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gr||(Gr={}));function Cl(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:c}=e===void 0?{}:e,d=Ae(),u=Ke(),h=Zi(t,{relative:a});return l.useCallback(f=>{if(ml(f,n)){f.preventDefault();let v=r!==void 0?r:Xt(u)===Xt(h);d(t,{replace:v,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[u,d,h,r,i,n,t,o,a,c])}const wl=Vo({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#dc004e"},success:{main:"#2e7d32",light:"#4caf50",dark:"#1b5e20"},warning:{main:"#ed6c02",light:"#ff9800",dark:"#e65100"},error:{main:"#d32f2f",light:"#f44336",dark:"#c62828"},background:{default:"#fafafa",paper:"#ffffff"}},typography:{fontFamily:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif",h1:{fontWeight:700,letterSpacing:"-0.02em"},h2:{fontWeight:700,letterSpacing:"-0.02em"},h3:{fontWeight:600,letterSpacing:"-0.01em"},h4:{fontWeight:600,letterSpacing:"-0.01em"},h5:{fontWeight:600},h6:{fontWeight:600},button:{fontWeight:600,textTransform:"none"}},shape:{borderRadius:12},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"10px 24px",fontSize:"1rem",fontWeight:600,textTransform:"none",boxShadow:"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)",transition:"all 0.1s cubic-bezier(0.4, 0, 0.2, 1)"}},contained:{"&:hover":{boxShadow:"0 6px 16px rgba(0,0,0,0.2)"}},large:{padding:"14px 32px",fontSize:"1.1rem"}}},MuiCard:{styleOverrides:{root:{borderRadius:16,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.06)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:500}}},MuiLinearProgress:{styleOverrides:{root:{borderRadius:4,height:6,backgroundColor:"rgba(0,0,0,0.08)"},bar:{borderRadius:4}}},MuiAlert:{styleOverrides:{root:{borderRadius:12,fontWeight:500}}},MuiAvatar:{styleOverrides:{root:{fontWeight:600}}}}}),Sl={"@keyframes fadeInUp":{"0%":{opacity:0,transform:"translateY(20px)"},"100%":{opacity:1,transform:"translateY(0)"}},"@keyframes pulse":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.05)"},"100%":{transform:"scale(1)"}},"@keyframes shimmer":{"0%":{backgroundPosition:"-200px 0"},"100%":{backgroundPosition:"calc(200px + 100%) 0"}}},Me=({domain:t,title:e,breadcrumbs:n=[],showBackButton:r=!0,backUrl:i="/"})=>{const o=()=>{switch(t){case"passageiro":return"#2e7d32";case"motorista":return"#ed6c02";case"admin":return"#d32f2f";case"login":return"#1976d2";default:return"#1976d2"}};return s.jsxs(S,{sx:{borderBottom:"1px solid #e0e0e0",pb:2,mb:3,backgroundColor:"background.paper"},children:[s.jsxs(S,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:2},children:[r&&s.jsx(N,{variant:"outlined",size:"small",startIcon:s.jsx(Ve,{}),href:i,sx:{minWidth:"auto"},children:"Voltar"}),s.jsx(y,{variant:"h5",sx:{fontWeight:600,color:o(),textTransform:"capitalize"},children:e})]}),s.jsx(N,{variant:"text",size:"small",startIcon:s.jsx(Ho,{}),href:"/",sx:{color:"text.secondary"},children:"Início"})]}),n.length>0&&s.jsxs(Go,{separator:"›",sx:{fontSize:"0.875rem"},children:[s.jsx(Ir,{href:"/",color:"inherit",underline:"hover",children:"KAVIAR"}),s.jsx(Ir,{href:`/${t}`,color:"inherit",underline:"hover",sx:{textTransform:"capitalize"},children:t}),n.map((a,c)=>s.jsx(y,{color:"text.primary",sx:{fontSize:"0.875rem"},children:a},c))]})]})},ar=({variant:t="full",size:e="medium",color:n="inherit",...r})=>{const o=(()=>{const c={small:{width:t==="full"?120:24,height:t==="full"?36:24},medium:{width:t==="full"?160:32,height:t==="full"?48:32},large:{width:t==="full"?200:48,height:t==="full"?60:48}};return c[e]||c.medium})(),a=t==="full"?s.jsxs("svg",{width:o.width,height:o.height,viewBox:"0 0 200 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{x:"10",y:"10",width:"40",height:"40",rx:"8",fill:"#1976d2"}),s.jsx("path",{d:"M20 20 L30 30 L40 20 M30 30 L40 40",stroke:"white",strokeWidth:"3",strokeLinecap:"round"}),s.jsx("text",{x:"60",y:"35",fontFamily:"Inter, sans-serif",fontSize:"24",fontWeight:"600",fill:"#1976d2",children:"KAVIAR"}),s.jsx("text",{x:"60",y:"48",fontFamily:"Inter, sans-serif",fontSize:"10",fill:"#666",opacity:"0.8",children:"Corridas Comunitárias"})]}):s.jsxs("svg",{width:o.width,height:o.height,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{width:"40",height:"40",rx:"8",fill:"#1976d2"}),s.jsx("path",{d:"M10 10 L20 20 L30 10 M20 20 L30 30",stroke:"white",strokeWidth:"3",strokeLinecap:"round"})]});return s.jsx(S,{component:"div",sx:{display:"inline-block",...r.sx},...r,children:a})};function Yi(t,e){return function(){return t.apply(e,arguments)}}const{toString:El}=Object.prototype,{getPrototypeOf:lr}=Object,{iterator:vn,toStringTag:Xi}=Symbol,xn=(t=>e=>{const n=El.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),De=t=>(t=t.toLowerCase(),e=>xn(e)===t),yn=t=>e=>typeof e===t,{isArray:dt}=Array,ot=yn("undefined");function Pt(t){return t!==null&&!ot(t)&&t.constructor!==null&&!ot(t.constructor)&&Ce(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Qi=De("ArrayBuffer");function Ml(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Qi(t.buffer),e}const Pl=yn("string"),Ce=yn("function"),eo=yn("number"),Ot=t=>t!==null&&typeof t=="object",Ol=t=>t===!0||t===!1,Kt=t=>{if(xn(t)!=="object")return!1;const e=lr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Xi in t)&&!(vn in t)},kl=t=>{if(!Ot(t)||Pt(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Rl=De("Date"),Al=De("File"),Dl=De("Blob"),Tl=De("FileList"),Il=t=>Ot(t)&&Ce(t.pipe),_l=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ce(t.append)&&((e=xn(t))==="formdata"||e==="object"&&Ce(t.toString)&&t.toString()==="[object FormData]"))},Bl=De("URLSearchParams"),[zl,Ul,Nl,Fl]=["ReadableStream","Request","Response","Headers"].map(De),Wl=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kt(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),dt(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Pt(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let c;for(r=0;r<a;r++)c=o[r],e.call(null,t[c],c,t)}}function to(t,e){if(Pt(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Xe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,no=t=>!ot(t)&&t!==Xe;function $n(){const{caseless:t,skipUndefined:e}=no(this)&&this||{},n={},r=(i,o)=>{const a=t&&to(n,o)||o;Kt(n[a])&&Kt(i)?n[a]=$n(n[a],i):Kt(i)?n[a]=$n({},i):dt(i)?n[a]=i.slice():(!e||!ot(i))&&(n[a]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&kt(arguments[i],r);return n}const $l=(t,e,n,{allOwnKeys:r}={})=>(kt(e,(i,o)=>{n&&Ce(i)?t[o]=Yi(i,n):t[o]=i},{allOwnKeys:r}),t),Vl=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Hl=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Gl=(t,e,n,r)=>{let i,o,a;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&lr(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Zl=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ql=t=>{if(!t)return null;if(dt(t))return t;let e=t.length;if(!eo(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Kl=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lr(Uint8Array)),Jl=(t,e)=>{const r=(t&&t[vn]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Yl=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Xl=De("HTMLFormElement"),Ql=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Zr=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ec=De("RegExp"),ro=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};kt(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},tc=t=>{ro(t,(e,n)=>{if(Ce(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ce(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nc=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return dt(t)?r(t):r(String(t).split(e)),n},rc=()=>{},sc=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ic(t){return!!(t&&Ce(t.append)&&t[Xi]==="FormData"&&t[vn])}const oc=t=>{const e=new Array(10),n=(r,i)=>{if(Ot(r)){if(e.indexOf(r)>=0)return;if(Pt(r))return r;if(!("toJSON"in r)){e[i]=r;const o=dt(r)?[]:{};return kt(r,(a,c)=>{const d=n(a,i+1);!ot(d)&&(o[c]=d)}),e[i]=void 0,o}}return r};return n(t,0)},ac=De("AsyncFunction"),lc=t=>t&&(Ot(t)||Ce(t))&&Ce(t.then)&&Ce(t.catch),so=((t,e)=>t?setImmediate:e?((n,r)=>(Xe.addEventListener("message",({source:i,data:o})=>{i===Xe&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Xe.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ce(Xe.postMessage)),cc=typeof queueMicrotask<"u"?queueMicrotask.bind(Xe):typeof process<"u"&&process.nextTick||so,dc=t=>t!=null&&Ce(t[vn]),L={isArray:dt,isArrayBuffer:Qi,isBuffer:Pt,isFormData:_l,isArrayBufferView:Ml,isString:Pl,isNumber:eo,isBoolean:Ol,isObject:Ot,isPlainObject:Kt,isEmptyObject:kl,isReadableStream:zl,isRequest:Ul,isResponse:Nl,isHeaders:Fl,isUndefined:ot,isDate:Rl,isFile:Al,isBlob:Dl,isRegExp:ec,isFunction:Ce,isStream:Il,isURLSearchParams:Bl,isTypedArray:Kl,isFileList:Tl,forEach:kt,merge:$n,extend:$l,trim:Wl,stripBOM:Vl,inherits:Hl,toFlatObject:Gl,kindOf:xn,kindOfTest:De,endsWith:Zl,toArray:ql,forEachEntry:Jl,matchAll:Yl,isHTMLForm:Xl,hasOwnProperty:Zr,hasOwnProp:Zr,reduceDescriptors:ro,freezeMethods:tc,toObjectSet:nc,toCamelCase:Ql,noop:rc,toFiniteNumber:sc,findKey:to,global:Xe,isContextDefined:no,isSpecCompliantForm:ic,toJSONObject:oc,isAsyncFn:ac,isThenable:lc,setImmediate:so,asap:cc,isIterable:dc};function J(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}L.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const io=J.prototype,oo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oo[t]={value:t}});Object.defineProperties(J,oo);Object.defineProperty(io,"isAxiosError",{value:!0});J.from=(t,e,n,r,i,o)=>{const a=Object.create(io);L.toFlatObject(t,a,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const c=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return J.call(a,c,d,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",o&&Object.assign(a,o),a};const uc=null;function Vn(t){return L.isPlainObject(t)||L.isArray(t)}function ao(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function qr(t,e,n){return t?t.concat(e).map(function(i,o){return i=ao(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function hc(t){return L.isArray(t)&&!t.some(Vn)}const pc=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function bn(t,e,n){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!L.isUndefined(g[m])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(L.isDate(p))return p.toISOString();if(L.isBoolean(p))return p.toString();if(!d&&L.isBlob(p))throw new J("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(p)||L.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,m,g){let w=p;if(p&&!g&&typeof p=="object"){if(L.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(L.isArray(p)&&hc(p)||(L.isFileList(p)||L.endsWith(m,"[]"))&&(w=L.toArray(p)))return m=ao(m),w.forEach(function(k,b){!(L.isUndefined(k)||k===null)&&e.append(a===!0?qr([m],b,o):a===null?m:m+"[]",u(k))}),!1}return Vn(p)?!0:(e.append(qr(g,m,o),u(p)),!1)}const f=[],v=Object.assign(pc,{defaultVisitor:h,convertValue:u,isVisitable:Vn});function x(p,m){if(!L.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),L.forEach(p,function(w,C){(!(L.isUndefined(w)||w===null)&&i.call(e,w,L.isString(C)?C.trim():C,m,v))===!0&&x(w,m?m.concat(C):[C])}),f.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return x(t),e}function Kr(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function cr(t,e){this._pairs=[],t&&bn(t,this,e)}const lo=cr.prototype;lo.append=function(e,n){this._pairs.push([e,n])};lo.toString=function(e){const n=e?function(r){return e.call(this,r,Kr)}:Kr;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function fc(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function co(t,e,n){if(!e)return t;const r=n&&n.encode||fc;L.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=L.isURLSearchParams(e)?e.toString():new cr(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Jr{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gc=typeof URLSearchParams<"u"?URLSearchParams:cr,mc=typeof FormData<"u"?FormData:null,vc=typeof Blob<"u"?Blob:null,xc={isBrowser:!0,classes:{URLSearchParams:gc,FormData:mc,Blob:vc},protocols:["http","https","file","blob","url","data"]},dr=typeof window<"u"&&typeof document<"u",Hn=typeof navigator=="object"&&navigator||void 0,yc=dr&&(!Hn||["ReactNative","NativeScript","NS"].indexOf(Hn.product)<0),bc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jc=dr&&window.location.href||"http://localhost",Lc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dr,hasStandardBrowserEnv:yc,hasStandardBrowserWebWorkerEnv:bc,navigator:Hn,origin:jc},Symbol.toStringTag,{value:"Module"})),be={...Lc,...xc};function Cc(t,e){return bn(t,new be.classes.URLSearchParams,{visitor:function(n,r,i,o){return be.isNode&&L.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function wc(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Sc(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function ho(t){function e(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=o>=n.length;return a=!a&&L.isArray(i)?i.length:a,d?(L.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!c):((!i[a]||!L.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&L.isArray(i[a])&&(i[a]=Sc(i[a])),!c)}if(L.isFormData(t)&&L.isFunction(t.entries)){const n={};return L.forEachEntry(t,(r,i)=>{e(wc(r),i,n,0)}),n}return null}function Ec(t,e,n){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Rt={transitional:uo,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=L.isObject(e);if(o&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return i?JSON.stringify(ho(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Cc(e,this.formSerializer).toString();if((c=L.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return bn(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Ec(e)):e}],transformResponse:[function(e){const n=this.transitional||Rt.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?J.from(c,J.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],t=>{Rt.headers[t]={}});const Mc=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pc=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&Mc[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Yr=Symbol("internals");function gt(t){return t&&String(t).trim().toLowerCase()}function Jt(t){return t===!1||t==null?t:L.isArray(t)?t.map(Jt):String(t)}function Oc(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const kc=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rn(t,e,n,r,i){if(L.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!L.isString(e)){if(L.isString(r))return e.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(e)}}function Rc(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Ac(t,e){const n=L.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}let we=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(c,d,u){const h=gt(d);if(!h)throw new Error("header name must be a non-empty string");const f=L.findKey(i,h);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||d]=Jt(c))}const a=(c,d)=>L.forEach(c,(u,h)=>o(u,h,d));if(L.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(L.isString(e)&&(e=e.trim())&&!kc(e))a(Pc(e),n);else if(L.isObject(e)&&L.isIterable(e)){let c={},d,u;for(const h of e){if(!L.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[u=h[0]]=(d=c[u])?L.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}a(c,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=gt(e),e){const r=L.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Oc(i);if(L.isFunction(n))return n.call(this,i,r);if(L.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=gt(e),e){const r=L.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Rn(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=gt(a),a){const c=L.findKey(r,a);c&&(!n||Rn(r,r[c],c,n))&&(delete r[c],i=!0)}}return L.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Rn(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return L.forEach(this,(i,o)=>{const a=L.findKey(r,o);if(a){n[a]=Jt(i),delete n[o];return}const c=e?Rc(o):String(o).trim();c!==o&&delete n[o],n[c]=Jt(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return L.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&L.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Yr]=this[Yr]={accessors:{}}).accessors,i=this.prototype;function o(a){const c=gt(a);r[c]||(Ac(i,a),r[c]=!0)}return L.isArray(e)?e.forEach(o):o(e),this}};we.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(we.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});L.freezeMethods(we);function An(t,e){const n=this||Rt,r=e||n,i=we.from(r.headers);let o=r.data;return L.forEach(t,function(c){o=c.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function po(t){return!!(t&&t.__CANCEL__)}function ut(t,e,n){J.call(this,t??"canceled",J.ERR_CANCELED,e,n),this.name="CanceledError"}L.inherits(ut,J,{__CANCEL__:!0});function fo(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Dc(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Tc(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(d){const u=Date.now(),h=r[o];a||(a=u),n[i]=d,r[i]=u;let f=o,v=0;for(;f!==i;)v+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-a<e)return;const x=h&&u-h;return x?Math.round(v*1e3/x):void 0}}function Ic(t,e){let n=0,r=1e3/e,i,o;const a=(u,h=Date.now())=>{n=h,i=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?a(u,h):(i=u,o||(o=setTimeout(()=>{o=null,a(i)},r-f)))},()=>i&&a(i)]}const Qt=(t,e,n=3)=>{let r=0;const i=Tc(50,250);return Ic(o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,d=a-r,u=i(d),h=a<=c;r=a;const f={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&h?(c-a)/u:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},n)},Xr=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Qr=t=>(...e)=>L.asap(()=>t(...e)),_c=be.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,be.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,Bc=be.hasStandardBrowserEnv?{write(t,e,n,r,i,o,a){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];L.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),L.isString(r)&&c.push(`path=${r}`),L.isString(i)&&c.push(`domain=${i}`),o===!0&&c.push("secure"),L.isString(a)&&c.push(`SameSite=${a}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function zc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Uc(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function go(t,e,n){let r=!zc(e);return t&&(r||n==!1)?Uc(t,e):e}const es=t=>t instanceof we?{...t}:t;function tt(t,e){e=e||{};const n={};function r(u,h,f,v){return L.isPlainObject(u)&&L.isPlainObject(h)?L.merge.call({caseless:v},u,h):L.isPlainObject(h)?L.merge({},h):L.isArray(h)?h.slice():h}function i(u,h,f,v){if(L.isUndefined(h)){if(!L.isUndefined(u))return r(void 0,u,f,v)}else return r(u,h,f,v)}function o(u,h){if(!L.isUndefined(h))return r(void 0,h)}function a(u,h){if(L.isUndefined(h)){if(!L.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function c(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const d={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(u,h,f)=>i(es(u),es(h),f,!0)};return L.forEach(Object.keys({...t,...e}),function(h){const f=d[h]||i,v=f(t[h],e[h],h);L.isUndefined(v)&&f!==c||(n[h]=v)}),n}const mo=t=>{const e=tt({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:c}=e;if(e.headers=a=we.from(a),e.url=co(go(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),L.isFormData(n)){if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(L.isFunction(n.getHeaders)){const d=n.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([h,f])=>{u.includes(h.toLowerCase())&&a.set(h,f)})}}if(be.hasStandardBrowserEnv&&(r&&L.isFunction(r)&&(r=r(e)),r||r!==!1&&_c(e.url))){const d=i&&o&&Bc.read(o);d&&a.set(i,d)}return e},Nc=typeof XMLHttpRequest<"u",Fc=Nc&&function(t){return new Promise(function(n,r){const i=mo(t);let o=i.data;const a=we.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=i,h,f,v,x,p;function m(){x&&x(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function w(){if(!g)return;const k=we.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:k,config:t,request:g};fo(function(R){n(R),m()},function(R){r(R),m()},j),g=null}"onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(w)},g.onabort=function(){g&&(r(new J("Request aborted",J.ECONNABORTED,t,g)),g=null)},g.onerror=function(b){const j=b&&b.message?b.message:"Network Error",M=new J(j,J.ERR_NETWORK,t,g);M.event=b||null,r(M),g=null},g.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||uo;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),r(new J(b,j.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,t,g)),g=null},o===void 0&&a.setContentType(null),"setRequestHeader"in g&&L.forEach(a.toJSON(),function(b,j){g.setRequestHeader(j,b)}),L.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),c&&c!=="json"&&(g.responseType=i.responseType),u&&([v,p]=Qt(u,!0),g.addEventListener("progress",v)),d&&g.upload&&([f,x]=Qt(d),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(h=k=>{g&&(r(!k||k.type?new ut(null,t,g):k),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const C=Dc(i.url);if(C&&be.protocols.indexOf(C)===-1){r(new J("Unsupported protocol "+C+":",J.ERR_BAD_REQUEST,t));return}g.send(o||null)})},Wc=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,c();const h=u instanceof Error?u:this.reason;r.abort(h instanceof J?h:new ut(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,o(new J(`timeout ${e} of ms exceeded`,J.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>L.asap(c),d}},$c=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Vc=async function*(t,e){for await(const n of Hc(t))yield*$c(n,e)},Hc=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ts=(t,e,n,r)=>{const i=Vc(t,e);let o=0,a,c=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:u,value:h}=await i.next();if(u){c(),d.close();return}let f=h.byteLength;if(n){let v=o+=f;n(v)}d.enqueue(new Uint8Array(h))}catch(u){throw c(u),u}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},ns=64*1024,{isFunction:Gt}=L,Gc=(({Request:t,Response:e})=>({Request:t,Response:e}))(L.global),{ReadableStream:rs,TextEncoder:ss}=L.global,is=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Zc=t=>{t=L.merge.call({skipUndefined:!0},Gc,t);const{fetch:e,Request:n,Response:r}=t,i=e?Gt(e):typeof fetch=="function",o=Gt(n),a=Gt(r);if(!i)return!1;const c=i&&Gt(rs),d=i&&(typeof ss=="function"?(p=>m=>p.encode(m))(new ss):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=o&&c&&is(()=>{let p=!1;const m=new n(be.origin,{body:new rs,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),h=a&&c&&is(()=>L.isReadableStream(new r("").body)),f={stream:h&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(m,g)=>{let w=m&&m[p];if(w)return w.call(m);throw new J(`Response type '${p}' is not supported`,J.ERR_NOT_SUPPORT,g)})});const v=async p=>{if(p==null)return 0;if(L.isBlob(p))return p.size;if(L.isSpecCompliantForm(p))return(await new n(be.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(L.isArrayBufferView(p)||L.isArrayBuffer(p))return p.byteLength;if(L.isURLSearchParams(p)&&(p=p+""),L.isString(p))return(await d(p)).byteLength},x=async(p,m)=>{const g=L.toFiniteNumber(p.getContentLength());return g??v(m)};return async p=>{let{url:m,method:g,data:w,signal:C,cancelToken:k,timeout:b,onDownloadProgress:j,onUploadProgress:M,responseType:R,headers:I,withCredentials:P="same-origin",fetchOptions:_}=mo(p),B=e||fetch;R=R?(R+"").toLowerCase():"text";let D=Wc([C,k&&k.toAbortSignal()],b),V=null;const U=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let F;try{if(M&&u&&g!=="get"&&g!=="head"&&(F=await x(I,w))!==0){let A=new n(m,{method:"POST",body:w,duplex:"half"}),q;if(L.isFormData(w)&&(q=A.headers.get("content-type"))&&I.setContentType(q),A.body){const[T,se]=Xr(F,Qt(Qr(M)));w=ts(A.body,ns,T,se)}}L.isString(P)||(P=P?"include":"omit");const W=o&&"credentials"in n.prototype,oe={..._,signal:D,method:g.toUpperCase(),headers:I.normalize().toJSON(),body:w,duplex:"half",credentials:W?P:void 0};V=o&&new n(m,oe);let H=await(o?B(V,_):B(m,oe));const re=h&&(R==="stream"||R==="response");if(h&&(j||re&&U)){const A={};["status","statusText","headers"].forEach(O=>{A[O]=H[O]});const q=L.toFiniteNumber(H.headers.get("content-length")),[T,se]=j&&Xr(q,Qt(Qr(j),!0))||[];H=new r(ts(H.body,ns,T,()=>{se&&se(),U&&U()}),A)}R=R||"text";let Q=await f[L.findKey(f,R)||"text"](H,p);return!re&&U&&U(),await new Promise((A,q)=>{fo(A,q,{data:Q,headers:we.from(H.headers),status:H.status,statusText:H.statusText,config:p,request:V})})}catch(W){throw U&&U(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,p,V),{cause:W.cause||W}):J.from(W,W&&W.code,p,V)}}},qc=new Map,vo=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let a=o.length,c=a,d,u,h=qc;for(;c--;)d=o[c],u=h.get(d),u===void 0&&h.set(d,u=c?new Map:Zc(e)),h=u;return u};vo();const ur={http:uc,xhr:Fc,fetch:{get:vo}};L.forEach(ur,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const os=t=>`- ${t}`,Kc=t=>L.isFunction(t)||t===null||t===!1;function Jc(t,e){t=L.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let a=0;a<n;a++){r=t[a];let c;if(i=r,!Kc(r)&&(i=ur[(c=String(r)).toLowerCase()],i===void 0))throw new J(`Unknown adapter '${c}'`);if(i&&(L.isFunction(i)||(i=i.get(e))))break;o[c||"#"+a]=i}if(!i){const a=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(os).join(`
`):" "+os(a[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const xo={getAdapter:Jc,adapters:ur};function Dn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ut(null,t)}function as(t){return Dn(t),t.headers=we.from(t.headers),t.data=An.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xo.getAdapter(t.adapter||Rt.adapter,t)(t).then(function(r){return Dn(t),r.data=An.call(t,t.transformResponse,r),r.headers=we.from(r.headers),r},function(r){return po(r)||(Dn(t),r&&r.response&&(r.response.data=An.call(t,t.transformResponse,r.response),r.response.headers=we.from(r.response.headers))),Promise.reject(r)})}const yo="1.13.2",jn={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{jn[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ls={};jn.transitional=function(e,n,r){function i(o,a){return"[Axios v"+yo+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(e===!1)throw new J(i(a," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!ls[a]&&(ls[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,c):!0}};jn.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Yc(t,e,n){if(typeof t!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const c=t[o],d=c===void 0||a(c,o,t);if(d!==!0)throw new J("option "+o+" must be "+d,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+o,J.ERR_BAD_OPTION)}}const Yt={assertOptions:Yc,validators:jn},Te=Yt.validators;let et=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Jr,response:new Jr}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=tt(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Yt.assertOptions(r,{silentJSONParsing:Te.transitional(Te.boolean),forcedJSONParsing:Te.transitional(Te.boolean),clarifyTimeoutError:Te.transitional(Te.boolean)},!1),i!=null&&(L.isFunction(i)?n.paramsSerializer={serialize:i}:Yt.assertOptions(i,{encode:Te.function,serialize:Te.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Yt.assertOptions(n,{baseUrl:Te.spelling("baseURL"),withXsrfToken:Te.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&L.merge(o.common,o[n.method]);o&&L.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=we.concat(a,o);const c=[];let d=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(d=d&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let h,f=0,v;if(!d){const p=[as.bind(this),void 0];for(p.unshift(...c),p.push(...u),v=p.length,h=Promise.resolve(n);f<v;)h=h.then(p[f++],p[f++]);return h}v=c.length;let x=n;for(;f<v;){const p=c[f++],m=c[f++];try{x=p(x)}catch(g){m.call(this,g);break}}try{h=as.call(this,x)}catch(p){return Promise.reject(p)}for(f=0,v=u.length;f<v;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=tt(this.defaults,e);const n=go(e.baseURL,e.url,e.allowAbsoluteUrls);return co(n,e.params,e.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(e){et.prototype[e]=function(n,r){return this.request(tt(r||{},{method:e,url:n,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,c){return this.request(tt(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}et.prototype[e]=n(),et.prototype[e+"Form"]=n(!0)});let Xc=class bo{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,c){r.reason||(r.reason=new ut(o,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new bo(function(i){e=i}),cancel:e}}};function Qc(t){return function(n){return t.apply(null,n)}}function ed(t){return L.isObject(t)&&t.isAxiosError===!0}const Gn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Gn).forEach(([t,e])=>{Gn[e]=t});function jo(t){const e=new et(t),n=Yi(et.prototype.request,e);return L.extend(n,et.prototype,e,{allOwnKeys:!0}),L.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return jo(tt(t,i))},n}const me=jo(Rt);me.Axios=et;me.CanceledError=ut;me.CancelToken=Xc;me.isCancel=po;me.VERSION=yo;me.toFormData=bn;me.AxiosError=J;me.Cancel=me.CanceledError;me.all=function(e){return Promise.all(e)};me.spread=Qc;me.isAxiosError=ed;me.mergeConfig=tt;me.AxiosHeaders=we;me.formToJSON=t=>ho(L.isHTMLForm(t)?new FormData(t):t);me.getAdapter=xo.getAdapter;me.HttpStatusCode=Gn;me.default=me;const{Axios:Wh,AxiosError:$h,CanceledError:Vh,isCancel:Hh,CancelToken:Gh,VERSION:Zh,all:qh,Cancel:Kh,isAxiosError:Jh,spread:Yh,toFormData:Xh,AxiosHeaders:Qh,HttpStatusCode:ep,formToJSON:tp,getAdapter:np,mergeConfig:rp}=me,td="https://your-backend-url.onrender.com",$e=me.create({baseURL:td,timeout:1e4,headers:{"Content-Type":"application/json"}});$e.interceptors.request.use(t=>{const e=localStorage.getItem("kaviar_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));$e.interceptors.response.use(t=>t,t=>{var e,n;return((e=t.response)==null?void 0:e.status)===401?(localStorage.removeItem("kaviar_token"),localStorage.removeItem("kaviar_user"),window.location.href="/login"):((n=t.response)==null?void 0:n.status)===403&&(window.location.href="/access-denied"),Promise.reject(t)});const nd=l.createContext(),Lo=()=>{const t=l.useContext(nd);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},je=({children:t,title:e})=>{const{user:n,logout:r}=Lo(),i=Ae(),[o,a]=l.useState(null),c=v=>{a(v.currentTarget)},d=()=>{a(null)},u=()=>{r(),i("/login"),d()},h=()=>{switch(n==null?void 0:n.user_type){case"admin":return s.jsx(Mi,{});case"driver":return s.jsx(ke,{});case"passenger":return s.jsx(jt,{});default:return s.jsx(Xo,{})}},f=()=>{switch(n==null?void 0:n.user_type){case"admin":return"Admin";case"driver":return"Motorista";case"passenger":return"Passageiro";default:return"Usuário"}};return s.jsxs(S,{sx:{flexGrow:1},children:[s.jsx(Zo,{position:"static",children:s.jsxs(qo,{children:[s.jsxs(S,{sx:{display:"flex",alignItems:"center",flexGrow:1},children:[s.jsx(ar,{variant:"icon",size:"small",sx:{mr:2}}),s.jsx(y,{variant:"h6",component:"div",children:e||"Kaviar"})]}),n&&s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsxs(y,{variant:"body2",sx:{display:{xs:"none",sm:"block"}},children:[n.email," (",f(),")"]}),s.jsx(Ko,{size:"large",onClick:c,color:"inherit",children:h()}),s.jsx(Jo,{anchorEl:o,open:!!o,onClose:d,children:s.jsxs(ie,{onClick:u,children:[s.jsx(Yo,{sx:{mr:1}}),"Sair"]})})]})]})}),s.jsx(pe,{maxWidth:"lg",sx:{mt:2,mb:2},children:t})]})};function Et(t){"@babel/helpers - typeof";return Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(t)}function rd(t,e){if(Et(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Et(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sd(t){var e=rd(t,"string");return Et(e)=="symbol"?e:e+""}function E(t,e,n){return(e=sd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tn,cs;function id(){if(cs)return Tn;cs=1;var t=function(n,r,i,o,a,c,d,u){if(!n){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[i,o,a,c,d,u],v=0;h=new Error(r.replace(/%s/g,function(){return f[v++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Tn=t,Tn}var od=id(),xe=Co(od),Y=l.createContext(null);function ad(){xe(!!l.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=l.useContext(Y);return xe(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function ld(t,e,n){return Object.keys(t).reduce(function(i,o){return e(i,t[o],o)},n)}function cd(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function dd(t,e,n,r){var i={},o=(a,c)=>{var d=n[c];d!==e[c]&&(i[c]=d,a(r,d))};return cd(t,o),i}function ud(t,e,n){var r=ld(n,function(o,a,c){return typeof t[c]=="function"&&o.push(google.maps.event.addListener(e,a,t[c])),o},[]);return r}function hd(t){google.maps.event.removeListener(t)}function ne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(hd)}function te(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:i,instance:o}=t,a=ud(i,o,n);return dd(e,r,i,o),a}var ds={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},us={extraMapTypes(t,e){e.forEach(function(r,i){t.mapTypes.set(String(i),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function pd(t){var{children:e,options:n,id:r,mapContainerStyle:i,mapContainerClassName:o,center:a,onClick:c,onDblClick:d,onDrag:u,onDragEnd:h,onDragStart:f,onMouseMove:v,onMouseOut:x,onMouseOver:p,onMouseDown:m,onMouseUp:g,onRightClick:w,onCenterChanged:C,onLoad:k,onUnmount:b}=t,[j,M]=l.useState(null),R=l.useRef(null),[I,P]=l.useState(null),[_,B]=l.useState(null),[D,V]=l.useState(null),[U,F]=l.useState(null),[W,oe]=l.useState(null),[H,re]=l.useState(null),[Q,A]=l.useState(null),[q,T]=l.useState(null),[se,O]=l.useState(null),[he,de]=l.useState(null),[ee,ve]=l.useState(null),[$,ae]=l.useState(null);return l.useEffect(()=>{n&&j!==null&&j.setOptions(n)},[j,n]),l.useEffect(()=>{j!==null&&typeof a<"u"&&j.setCenter(a)},[j,a]),l.useEffect(()=>{j&&d&&(_!==null&&google.maps.event.removeListener(_),B(google.maps.event.addListener(j,"dblclick",d)))},[d]),l.useEffect(()=>{j&&h&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(j,"dragend",h)))},[h]),l.useEffect(()=>{j&&f&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(j,"dragstart",f)))},[f]),l.useEffect(()=>{j&&m&&(W!==null&&google.maps.event.removeListener(W),oe(google.maps.event.addListener(j,"mousedown",m)))},[m]),l.useEffect(()=>{j&&v&&(H!==null&&google.maps.event.removeListener(H),re(google.maps.event.addListener(j,"mousemove",v)))},[v]),l.useEffect(()=>{j&&x&&(Q!==null&&google.maps.event.removeListener(Q),A(google.maps.event.addListener(j,"mouseout",x)))},[x]),l.useEffect(()=>{j&&p&&(q!==null&&google.maps.event.removeListener(q),T(google.maps.event.addListener(j,"mouseover",p)))},[p]),l.useEffect(()=>{j&&g&&(se!==null&&google.maps.event.removeListener(se),O(google.maps.event.addListener(j,"mouseup",g)))},[g]),l.useEffect(()=>{j&&w&&(he!==null&&google.maps.event.removeListener(he),de(google.maps.event.addListener(j,"rightclick",w)))},[w]),l.useEffect(()=>{j&&c&&(ee!==null&&google.maps.event.removeListener(ee),ve(google.maps.event.addListener(j,"click",c)))},[c]),l.useEffect(()=>{j&&u&&($!==null&&google.maps.event.removeListener($),ae(google.maps.event.addListener(j,"drag",u)))},[u]),l.useEffect(()=>{j&&C&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(j,"center_changed",C)))},[c]),l.useEffect(()=>{var Re=R.current===null?null:new google.maps.Map(R.current,n);return M(Re),Re!==null&&k&&k(Re),()=>{Re!==null&&b&&b(Re)}},[]),s.jsx("div",{id:r,ref:R,style:i,className:o,children:s.jsx(Y.Provider,{value:j,children:j!==null?e:null})})}l.memo(pd);class fd extends l.PureComponent{constructor(){super(...arguments),E(this,"state",{map:null}),E(this,"registeredEvents",[]),E(this,"mapRef",null),E(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),E(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),E(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),E(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=te({updaterMap:us,eventMap:ds,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:us,eventMap:ds,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ne(this.registeredEvents))}render(){return s.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:s.jsx(Y.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function hs(t,e,n,r,i,o,a){try{var c=t[o](a),d=c.value}catch(u){return void n(u)}c.done?e(d):Promise.resolve(d).then(r,i)}function wo(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(d){hs(o,r,i,a,c,"next",d)}function c(d){hs(o,r,i,a,c,"throw",d)}a(void 0)})}}function So(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:i,region:o,libraries:a,channel:c,mapIds:d,authReferrerPolicy:u,apiUrl:h="https://maps.googleapis.com"}=t,f=[];return xe(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),i&&f.push("language=".concat(i)),o&&f.push("region=".concat(o)),a&&a.length&&f.push("libraries=".concat(a.sort().join(","))),c&&f.push("channel=".concat(c)),d&&d.length&&f.push("map_ids=".concat(d.join(","))),u&&f.push("auth_referrer_policy=".concat(u)),f.push("loading=async"),f.push("callback=initMap"),"".concat(h,"/maps/api/js?").concat(f.join("&"))}var Qe=typeof document<"u";function Eo(t){var{url:e,id:n,nonce:r}=t;return Qe?new Promise(function(o,a){var c=document.getElementById(n),d=window;if(c){var u=c.getAttribute("data-state");if(c.src===e&&u!=="error"){if(u==="ready")return o(n);var h=d.initMap,f=c.onerror;d.initMap=function(){h&&h(),o(n)},c.onerror=function(x){f&&f(x),a(x)};return}else c.remove()}var v=document.createElement("script");v.type="text/javascript",v.src=e,v.id=n,v.async=!0,v.nonce=r||"",v.onerror=function(p){v.setAttribute("data-state","error"),a(p)},d.initMap=function(){v.setAttribute("data-state","ready"),o(n)},document.head.appendChild(v)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function ps(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Mo(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,o){return ps(i)||Reflect.apply(e,t,[i,o]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return ps(i)||Reflect.apply(n,t,[i]),i}}}var mt=!1;function Po(){return s.jsx("div",{children:"Loading..."})}var Zn={id:"script-loader",version:"weekly"};class hr extends l.PureComponent{constructor(){super(...arguments),E(this,"check",null),E(this,"state",{loaded:!1}),E(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),E(this,"isCleaningUp",wo(function*(){function e(n){if(!mt)n();else if(Qe)var r=window.setInterval(function(){mt||(window.clearInterval(r),n())},1)}return new Promise(e)})),E(this,"cleanup",()=>{mt=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),E(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Mo(),xe(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:So(this.props)};Eo(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),E(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Qe){if(window.google&&window.google.maps&&!mt){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Qe&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Qe){this.cleanup();var e=()=>{this.check||(delete window.google,mt=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||s.jsx(Po,{})]})}}E(hr,"defaultProps",Zn);function gd(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function pr(t,e){if(t==null)return{};var n,r,i=gd(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var fs;function md(t){var{id:e=Zn.id,version:n=Zn.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:o,language:a,region:c,libraries:d,preventGoogleFontsLoading:u,channel:h,mapIds:f,authReferrerPolicy:v,apiUrl:x="https://maps.googleapis.com"}=t,p=l.useRef(!1),[m,g]=l.useState(!1),[w,C]=l.useState(void 0);l.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),l.useEffect(function(){Qe&&u&&Mo()},[u]),l.useEffect(function(){m&&xe(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[m]);var k=So({version:n,googleMapsApiKey:i,googleMapsClientId:o,language:a,region:c,libraries:d,channel:h,mapIds:f,authReferrerPolicy:v,apiUrl:x});l.useEffect(function(){if(!Qe)return;function M(){p.current&&(g(!0),fs=k)}if(window.google&&window.google.maps&&fs===k){M();return}Eo({id:e,url:k,nonce:r}).then(M).catch(function(I){p.current&&C(I),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(o||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(I)})},[e,k,r]);var b=l.useRef(void 0);return l.useEffect(function(){b.current&&d!==b.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),b.current=d},[d]),{isLoaded:m,loadError:w,url:k}}var vd=["loadingElement","onLoad","onError","onUnmount","children"],xd=s.jsx(Po,{});function yd(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:o}=t,a=pr(t,vd),{isLoaded:c,loadError:d}=md(a);return l.useEffect(function(){c&&typeof n=="function"&&n()},[c,n]),l.useEffect(function(){d&&typeof r=="function"&&r(d)},[d,r]),l.useEffect(function(){return()=>{i&&i()}},[i]),c?o:e||xd}l.memo(yd);var gs;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(gs||(gs={}));function ms(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ms(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vs={},xs={options(t,e){t.setOptions(e)}};function bd(t){var{options:e,onLoad:n,onUnmount:r}=t,i=l.useContext(Y),[o,a]=l.useState(null);return l.useEffect(()=>{o!==null&&o.setMap(i)},[i]),l.useEffect(()=>{e&&o!==null&&o.setOptions(e)},[o,e]),l.useEffect(()=>{var c=new google.maps.TrafficLayer(en(en({},e),{},{map:i}));return a(c),n&&n(c),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}l.memo(bd);class jd extends l.PureComponent{constructor(){super(...arguments),E(this,"state",{trafficLayer:null}),E(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),E(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(en(en({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:xs,eventMap:vs,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:xs,eventMap:vs,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ne(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}E(jd,"contextType",Y);function Ld(t){var{onLoad:e,onUnmount:n}=t,r=l.useContext(Y),[i,o]=l.useState(null);return l.useEffect(()=>{i!==null&&i.setMap(r)},[r]),l.useEffect(()=>{var a=new google.maps.BicyclingLayer;return o(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}l.memo(Ld);class Cd extends l.PureComponent{constructor(){super(...arguments),E(this,"state",{bicyclingLayer:null}),E(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}E(Cd,"contextType",Y);function wd(t){var{onLoad:e,onUnmount:n}=t,r=l.useContext(Y),[i,o]=l.useState(null);return l.useEffect(()=>{i!==null&&i.setMap(r)},[r]),l.useEffect(()=>{var a=new google.maps.TransitLayer;return o(a),a.setMap(r),e&&e(a),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}l.memo(wd);class Sd extends l.PureComponent{constructor(){super(...arguments),E(this,"state",{transitLayer:null}),E(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}E(Sd,"contextType",Y);function ys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ys(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var bs={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},js={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function Ed(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:o,onPolygonComplete:a,onPolylineComplete:c,onRectangleComplete:d,onLoad:u,onUnmount:h}=t,f=l.useContext(Y),[v,x]=l.useState(null),[p,m]=l.useState(null),[g,w]=l.useState(null),[C,k]=l.useState(null),[b,j]=l.useState(null),[M,R]=l.useState(null),[I,P]=l.useState(null);return l.useEffect(()=>{v!==null&&v.setMap(f)},[f]),l.useEffect(()=>{e&&v!==null&&v.setOptions(e)},[v,e]),l.useEffect(()=>{v!==null&&v.setDrawingMode(n??null)},[v,n]),l.useEffect(()=>{v&&r&&(p!==null&&google.maps.event.removeListener(p),m(google.maps.event.addListener(v,"circlecomplete",r)))},[v,r]),l.useEffect(()=>{v&&i&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(v,"markercomplete",i)))},[v,i]),l.useEffect(()=>{v&&o&&(C!==null&&google.maps.event.removeListener(C),k(google.maps.event.addListener(v,"overlaycomplete",o)))},[v,o]),l.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),j(google.maps.event.addListener(v,"polygoncomplete",a)))},[v,a]),l.useEffect(()=>{v&&c&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(v,"polylinecomplete",c)))},[v,c]),l.useEffect(()=>{v&&d&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(v,"rectanglecomplete",d)))},[v,d]),l.useEffect(()=>{xe(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var _=new google.maps.drawing.DrawingManager(tn(tn({},e),{},{map:f}));return n&&_.setDrawingMode(n),r&&m(google.maps.event.addListener(_,"circlecomplete",r)),i&&w(google.maps.event.addListener(_,"markercomplete",i)),o&&k(google.maps.event.addListener(_,"overlaycomplete",o)),a&&j(google.maps.event.addListener(_,"polygoncomplete",a)),c&&R(google.maps.event.addListener(_,"polylinecomplete",c)),d&&P(google.maps.event.addListener(_,"rectanglecomplete",d)),x(_),u&&u(_),()=>{v!==null&&(p&&google.maps.event.removeListener(p),g&&google.maps.event.removeListener(g),C&&google.maps.event.removeListener(C),b&&google.maps.event.removeListener(b),M&&google.maps.event.removeListener(M),I&&google.maps.event.removeListener(I),h&&h(v),v.setMap(null))}},[]),null}l.memo(Ed);class Md extends l.PureComponent{constructor(e){super(e),E(this,"registeredEvents",[]),E(this,"state",{drawingManager:null}),E(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),xe(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(tn(tn({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:js,eventMap:bs,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:js,eventMap:bs,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ne(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}E(Md,"contextType",Y);function Ls(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ls(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Cs={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},ws={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},nn={};function Pd(t){var{position:e,options:n,clusterer:r,noClustererRedraw:i,children:o,draggable:a,visible:c,animation:d,clickable:u,cursor:h,icon:f,label:v,opacity:x,shape:p,title:m,zIndex:g,onClick:w,onDblClick:C,onDrag:k,onDragEnd:b,onDragStart:j,onMouseOut:M,onMouseOver:R,onMouseUp:I,onMouseDown:P,onRightClick:_,onClickableChanged:B,onCursorChanged:D,onAnimationChanged:V,onDraggableChanged:U,onFlatChanged:F,onIconChanged:W,onPositionChanged:oe,onShapeChanged:H,onTitleChanged:re,onVisibleChanged:Q,onZindexChanged:A,onLoad:q,onUnmount:T}=t,se=l.useContext(Y),[O,he]=l.useState(null),[de,ee]=l.useState(null),[ve,$]=l.useState(null),[ae,Re]=l.useState(null),[Ie,pt]=l.useState(null),[ce,mr]=l.useState(null),[At,vr]=l.useState(null),[Dt,xr]=l.useState(null),[Tt,yr]=l.useState(null),[It,br]=l.useState(null),[jr,Lr]=l.useState(null),[_t,Cr]=l.useState(null),[Bt,wr]=l.useState(null),[zt,Sr]=l.useState(null),[Ut,Er]=l.useState(null),[Nt,Mr]=l.useState(null),[Ft,Pr]=l.useState(null),[Wt,Or]=l.useState(null),[kr,Rr]=l.useState(null),[$t,Ar]=l.useState(null),[Vt,Dr]=l.useState(null),[Ht,Tr]=l.useState(null);l.useEffect(()=>{O!==null&&O.setMap(se)},[se]),l.useEffect(()=>{typeof n<"u"&&O!==null&&O.setOptions(n)},[O,n]),l.useEffect(()=>{typeof a<"u"&&O!==null&&O.setDraggable(a)},[O,a]),l.useEffect(()=>{e&&O!==null&&O.setPosition(e)},[O,e]),l.useEffect(()=>{typeof c<"u"&&O!==null&&O.setVisible(c)},[O,c]),l.useEffect(()=>{O==null||O.setAnimation(d)},[O,d]),l.useEffect(()=>{O&&u!==void 0&&O.setClickable(u)},[O,u]),l.useEffect(()=>{O&&h!==void 0&&O.setCursor(h)},[O,h]),l.useEffect(()=>{O&&f!==void 0&&O.setIcon(f)},[O,f]),l.useEffect(()=>{O&&v!==void 0&&O.setLabel(v)},[O,v]),l.useEffect(()=>{O&&x!==void 0&&O.setOpacity(x)},[O,x]),l.useEffect(()=>{O&&p!==void 0&&O.setShape(p)},[O,p]),l.useEffect(()=>{O&&m!==void 0&&O.setTitle(m)},[O,m]),l.useEffect(()=>{O&&g!==void 0&&O.setZIndex(g)},[O,g]),l.useEffect(()=>{O&&C&&(de!==null&&google.maps.event.removeListener(de),ee(google.maps.event.addListener(O,"dblclick",C)))},[C]),l.useEffect(()=>{O&&b&&(ve!==null&&google.maps.event.removeListener(ve),$(google.maps.event.addListener(O,"dragend",b)))},[b]),l.useEffect(()=>{O&&j&&(ae!==null&&google.maps.event.removeListener(ae),Re(google.maps.event.addListener(O,"dragstart",j)))},[j]),l.useEffect(()=>{O&&P&&(Ie!==null&&google.maps.event.removeListener(Ie),pt(google.maps.event.addListener(O,"mousedown",P)))},[P]),l.useEffect(()=>{O&&M&&(ce!==null&&google.maps.event.removeListener(ce),mr(google.maps.event.addListener(O,"mouseout",M)))},[M]),l.useEffect(()=>{O&&R&&(At!==null&&google.maps.event.removeListener(At),vr(google.maps.event.addListener(O,"mouseover",R)))},[R]),l.useEffect(()=>{O&&I&&(Dt!==null&&google.maps.event.removeListener(Dt),xr(google.maps.event.addListener(O,"mouseup",I)))},[I]),l.useEffect(()=>{O&&_&&(Tt!==null&&google.maps.event.removeListener(Tt),yr(google.maps.event.addListener(O,"rightclick",_)))},[_]),l.useEffect(()=>{O&&w&&(It!==null&&google.maps.event.removeListener(It),br(google.maps.event.addListener(O,"click",w)))},[w]),l.useEffect(()=>{O&&k&&(jr!==null&&google.maps.event.removeListener(jr),Lr(google.maps.event.addListener(O,"drag",k)))},[k]),l.useEffect(()=>{O&&B&&(_t!==null&&google.maps.event.removeListener(_t),Cr(google.maps.event.addListener(O,"clickable_changed",B)))},[B]),l.useEffect(()=>{O&&D&&(Bt!==null&&google.maps.event.removeListener(Bt),wr(google.maps.event.addListener(O,"cursor_changed",D)))},[D]),l.useEffect(()=>{O&&V&&(zt!==null&&google.maps.event.removeListener(zt),Sr(google.maps.event.addListener(O,"animation_changed",V)))},[V]),l.useEffect(()=>{O&&U&&(Ut!==null&&google.maps.event.removeListener(Ut),Er(google.maps.event.addListener(O,"draggable_changed",U)))},[U]),l.useEffect(()=>{O&&F&&(Nt!==null&&google.maps.event.removeListener(Nt),Mr(google.maps.event.addListener(O,"flat_changed",F)))},[F]),l.useEffect(()=>{O&&W&&(Ft!==null&&google.maps.event.removeListener(Ft),Pr(google.maps.event.addListener(O,"icon_changed",W)))},[W]),l.useEffect(()=>{O&&oe&&(Wt!==null&&google.maps.event.removeListener(Wt),Or(google.maps.event.addListener(O,"position_changed",oe)))},[oe]),l.useEffect(()=>{O&&H&&(kr!==null&&google.maps.event.removeListener(kr),Rr(google.maps.event.addListener(O,"shape_changed",H)))},[H]),l.useEffect(()=>{O&&re&&($t!==null&&google.maps.event.removeListener($t),Ar(google.maps.event.addListener(O,"title_changed",re)))},[re]),l.useEffect(()=>{O&&Q&&(Vt!==null&&google.maps.event.removeListener(Vt),Dr(google.maps.event.addListener(O,"visible_changed",Q)))},[Q]),l.useEffect(()=>{O&&A&&(Ht!==null&&google.maps.event.removeListener(Ht),Tr(google.maps.event.addListener(O,"zindex_changed",A)))},[A]),l.useEffect(()=>{var ft=st(st(st({},n||nn),r?nn:{map:se}),{},{position:e}),K=new google.maps.Marker(ft);return r?r.addMarker(K,!!i):K.setMap(se),e&&K.setPosition(e),typeof c<"u"&&K.setVisible(c),typeof a<"u"&&K.setDraggable(a),typeof u<"u"&&K.setClickable(u),typeof h=="string"&&K.setCursor(h),f&&K.setIcon(f),typeof v<"u"&&K.setLabel(v),typeof x<"u"&&K.setOpacity(x),p&&K.setShape(p),typeof m=="string"&&K.setTitle(m),typeof g=="number"&&K.setZIndex(g),C&&ee(google.maps.event.addListener(K,"dblclick",C)),b&&$(google.maps.event.addListener(K,"dragend",b)),j&&Re(google.maps.event.addListener(K,"dragstart",j)),P&&pt(google.maps.event.addListener(K,"mousedown",P)),M&&mr(google.maps.event.addListener(K,"mouseout",M)),R&&vr(google.maps.event.addListener(K,"mouseover",R)),I&&xr(google.maps.event.addListener(K,"mouseup",I)),_&&yr(google.maps.event.addListener(K,"rightclick",_)),w&&br(google.maps.event.addListener(K,"click",w)),k&&Lr(google.maps.event.addListener(K,"drag",k)),B&&Cr(google.maps.event.addListener(K,"clickable_changed",B)),D&&wr(google.maps.event.addListener(K,"cursor_changed",D)),V&&Sr(google.maps.event.addListener(K,"animation_changed",V)),U&&Er(google.maps.event.addListener(K,"draggable_changed",U)),F&&Mr(google.maps.event.addListener(K,"flat_changed",F)),W&&Pr(google.maps.event.addListener(K,"icon_changed",W)),oe&&Or(google.maps.event.addListener(K,"position_changed",oe)),H&&Rr(google.maps.event.addListener(K,"shape_changed",H)),re&&Ar(google.maps.event.addListener(K,"title_changed",re)),Q&&Dr(google.maps.event.addListener(K,"visible_changed",Q)),A&&Tr(google.maps.event.addListener(K,"zindex_changed",A)),he(K),q&&q(K),()=>{de!==null&&google.maps.event.removeListener(de),ve!==null&&google.maps.event.removeListener(ve),ae!==null&&google.maps.event.removeListener(ae),Ie!==null&&google.maps.event.removeListener(Ie),ce!==null&&google.maps.event.removeListener(ce),At!==null&&google.maps.event.removeListener(At),Dt!==null&&google.maps.event.removeListener(Dt),Tt!==null&&google.maps.event.removeListener(Tt),It!==null&&google.maps.event.removeListener(It),_t!==null&&google.maps.event.removeListener(_t),Bt!==null&&google.maps.event.removeListener(Bt),zt!==null&&google.maps.event.removeListener(zt),Ut!==null&&google.maps.event.removeListener(Ut),Nt!==null&&google.maps.event.removeListener(Nt),Ft!==null&&google.maps.event.removeListener(Ft),Wt!==null&&google.maps.event.removeListener(Wt),$t!==null&&google.maps.event.removeListener($t),Vt!==null&&google.maps.event.removeListener(Vt),Ht!==null&&google.maps.event.removeListener(Ht),T&&T(K),r?r.removeMarker(K,!!i):K&&K.setMap(null)}},[]);var $o=l.useMemo(()=>o?l.Children.map(o,ft=>{if(!l.isValidElement(ft))return ft;var K=ft;return l.cloneElement(K,{anchor:O})}):null,[o,O]);return s.jsx(s.Fragment,{children:$o})||null}l.memo(Pd);class qn extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[])}componentDidMount(){var e=this;return wo(function*(){var n=st(st(st({},e.props.options||nn),e.props.clusterer?nn:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=te({updaterMap:ws,eventMap:Cs,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:ws,eventMap:Cs,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ne(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?l.Children.map(this.props.children,n=>{if(!l.isValidElement(n))return n;var r=n;return l.cloneElement(r,{anchor:this.marker})}):null;return e||null}}E(qn,"contextType",Y);var Od=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),o=n.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(i),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(i);var c=a.getZoom()||0;r!==null&&c>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,o,a;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),u=parseInt(((e=d[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),h=parseInt(((n=d[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var v=document.createElement("img");v.alt=c,v.src=this.url,v.width=this.width,v.height=this.height,v.setAttribute("style","position: absolute; top: ".concat(h,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(v.style.clip="rect(-".concat(h,"px, -").concat(u+this.width,"px, -").concat(h+this.height,", -").concat(u,")"));var x=document.createElement("div");x.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(x.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(x.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(v),this.div.appendChild(x),this.div.title=c,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),kd=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Od(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var o=i[r],a=o.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var o=this.markers.length,a=this.markerClusterer.getMaxZoom(),c=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof c<"u"&&c>a)e.getMap()!==this.map&&e.setMap(this.map);else if(o<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(o===this.minClusterSize)for(var d=0,u=this.markers;d<u.length;d++){var h=u[d];h.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function Rd(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var Ad=2e3,Dd=500,Td="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Id="png",_d=[53,56,66,78,90],Bd="cluster",Oo=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||Td,this.imageExtension=r.imageExtension||Id,this.imageSizes=r.imageSizes||_d,this.calculator=r.calculator||Rd,this.batchSize=r.batchSize||Ad,this.batchSizeIE=r.batchSizeIE||Dd,this.clusterClass=r.clusterClass||Bd,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,o=this.clusters;i<o.length;i++){var a=o[i];a.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var u=d[c];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var o=i[r],a=o.getPosition();a&&n.extend(a)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,o=e;i<o.length;i++){var a=o[i];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var o=i[r];o.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var o=n.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}if(i!==null){var a=n.fromDivPixelToLatLng(i);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var o=0,a=this.markers;o<a.length;o++){var c=a[o];c.isAdded=!1,e&&c.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,o=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,o=0,a=this.clusters;o<a.length;o++){var c=a[o];n=c;var d=n.getCenter(),u=e.getPosition();if(d&&u){var h=this.distanceBetweenPoints(d,u);h<r&&(r=h,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new kd(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,o=(r==null?void 0:r.getZoom())||0,a=o>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(a),d=Math.min(e+this.batchSize,this.markers.length),u=e;u<d;u++){var h=this.markers[u];h&&!h.isAdded&&this.isMarkerInBounds(h,c)&&(!this.ignoreHidden||this.ignoreHidden&&h.getVisible())&&this.addToClosestCluster(h)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,v=this.clusters;f<v.length;f++){var x=v[f];x.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var o in i.prototype){var a=o;this.prototype[a]=i.prototype[a]}return this}).apply(e,[n])},t}();function Ss(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ss(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Pe={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},le={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},Ud={};function Nd(t){var{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:o,clusterClass:a,enableRetinaIcons:c,gridSize:d,ignoreHidden:u,imageExtension:h,imagePath:f,imageSizes:v,maxZoom:x,minimumClusterSize:p,styles:m,title:g,zoomOnClick:w,onClick:C,onClusteringBegin:k,onClusteringEnd:b,onMouseOver:j,onMouseOut:M,onLoad:R,onUnmount:I}=t,[P,_]=l.useState(null),B=l.useContext(Y),[D,V]=l.useState(null),[U,F]=l.useState(null),[W,oe]=l.useState(null),[H,re]=l.useState(null),[Q,A]=l.useState(null);return l.useEffect(()=>{P&&M&&(H!==null&&google.maps.event.removeListener(H),re(google.maps.event.addListener(P,Pe.onMouseOut,M)))},[M]),l.useEffect(()=>{P&&j&&(Q!==null&&google.maps.event.removeListener(Q),A(google.maps.event.addListener(P,Pe.onMouseOver,j)))},[j]),l.useEffect(()=>{P&&C&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(P,Pe.onClick,C)))},[C]),l.useEffect(()=>{P&&k&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(P,Pe.onClusteringBegin,k)))},[k]),l.useEffect(()=>{P&&b&&(W!==null&&google.maps.event.removeListener(W),F(google.maps.event.addListener(P,Pe.onClusteringEnd,b)))},[b]),l.useEffect(()=>{typeof r<"u"&&P!==null&&le.averageCenter(P,r)},[P,r]),l.useEffect(()=>{typeof i<"u"&&P!==null&&le.batchSizeIE(P,i)},[P,i]),l.useEffect(()=>{typeof o<"u"&&P!==null&&le.calculator(P,o)},[P,o]),l.useEffect(()=>{typeof a<"u"&&P!==null&&le.clusterClass(P,a)},[P,a]),l.useEffect(()=>{typeof c<"u"&&P!==null&&le.enableRetinaIcons(P,c)},[P,c]),l.useEffect(()=>{typeof d<"u"&&P!==null&&le.gridSize(P,d)},[P,d]),l.useEffect(()=>{typeof u<"u"&&P!==null&&le.ignoreHidden(P,u)},[P,u]),l.useEffect(()=>{typeof h<"u"&&P!==null&&le.imageExtension(P,h)},[P,h]),l.useEffect(()=>{typeof f<"u"&&P!==null&&le.imagePath(P,f)},[P,f]),l.useEffect(()=>{typeof v<"u"&&P!==null&&le.imageSizes(P,v)},[P,v]),l.useEffect(()=>{typeof x<"u"&&P!==null&&le.maxZoom(P,x)},[P,x]),l.useEffect(()=>{typeof p<"u"&&P!==null&&le.minimumClusterSize(P,p)},[P,p]),l.useEffect(()=>{typeof m<"u"&&P!==null&&le.styles(P,m)},[P,m]),l.useEffect(()=>{typeof g<"u"&&P!==null&&le.title(P,g)},[P,g]),l.useEffect(()=>{typeof w<"u"&&P!==null&&le.zoomOnClick(P,w)},[P,w]),l.useEffect(()=>{if(B){var q=zd({},n||Ud),T=new Oo(B,[],q);return r&&le.averageCenter(T,r),i&&le.batchSizeIE(T,i),o&&le.calculator(T,o),a&&le.clusterClass(T,a),c&&le.enableRetinaIcons(T,c),d&&le.gridSize(T,d),u&&le.ignoreHidden(T,u),h&&le.imageExtension(T,h),f&&le.imagePath(T,f),v&&le.imageSizes(T,v),x&&le.maxZoom(T,x),p&&le.minimumClusterSize(T,p),m&&le.styles(T,m),g&&le.title(T,g),w&&le.zoomOnClick(T,w),M&&re(google.maps.event.addListener(T,Pe.onMouseOut,M)),j&&A(google.maps.event.addListener(T,Pe.onMouseOver,j)),C&&V(google.maps.event.addListener(T,Pe.onClick,C)),k&&F(google.maps.event.addListener(T,Pe.onClusteringBegin,k)),b&&oe(google.maps.event.addListener(T,Pe.onClusteringEnd,b)),_(T),R&&R(T),()=>{H!==null&&google.maps.event.removeListener(H),Q!==null&&google.maps.event.removeListener(Q),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),W!==null&&google.maps.event.removeListener(W),I&&I(T)}}},[]),P!==null&&e(P)||null}l.memo(Nd);class Fd extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{markerClusterer:null}),E(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new Oo(this.context,[],this.props.options);this.registeredEvents=te({updaterMap:le,eventMap:Pe,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:le,eventMap:Pe,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ne(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}E(Fd,"contextType",Y);function Es(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var ko=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(h){h.returnValue=!1,h.preventDefault&&h.preventDefault(),e.enableEventPropagation||Es(h)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,c=o;a<c.length;a++){var d=c[a];this.eventListeners.push(google.maps.event.addListener(this.div,d,Es))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,o=n.getBounds();o&&!o.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),c=a.offsetWidth,d=a.offsetHeight,u=this.pixelOffset.width,h=this.pixelOffset.height,f=this.div.offsetWidth,v=this.div.offsetHeight,x=this.infoBoxClearance.width,p=this.infoBoxClearance.height,m=this.getProjection(),g=m.fromLatLngToContainerPixel(this.position);g!==null&&(g.x<-u+x?r=g.x+u-x:g.x+f+u+x>c&&(r=g.x+f+u+x-c),this.alignBottom?g.y<-h+p+v?i=g.y+h-p-v:g.y+h+p>d&&(i=g.y+h+p-d):g.y<-h+p?i=g.y+h-p:g.y+v+h+p>d&&(i=g.y+v+h+p-d)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var o in i.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=i.prototype[o]);return this}).apply(e,[n])},t}(),Wd=["position"],$d=["position"];function Ms(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ms(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ps={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Os={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Vd={};function Hd(t){var{children:e,anchor:n,options:r,position:i,zIndex:o,onCloseClick:a,onDomReady:c,onContentChanged:d,onPositionChanged:u,onZindexChanged:h,onLoad:f,onUnmount:v}=t,x=l.useContext(Y),[p,m]=l.useState(null),[g,w]=l.useState(null),[C,k]=l.useState(null),[b,j]=l.useState(null),[M,R]=l.useState(null),[I,P]=l.useState(null),_=l.useRef(null);return l.useEffect(()=>{x&&p!==null&&(p.close(),n?p.open(x,n):p.getPosition()&&p.open(x))},[x,p,n]),l.useEffect(()=>{r&&p!==null&&p.setOptions(r)},[p,r]),l.useEffect(()=>{if(i&&p!==null){var B=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);p.setPosition(B)}},[i]),l.useEffect(()=>{typeof o=="number"&&p!==null&&p.setZIndex(o)},[o]),l.useEffect(()=>{p&&a&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(p,"closeclick",a)))},[a]),l.useEffect(()=>{p&&c&&(C!==null&&google.maps.event.removeListener(C),k(google.maps.event.addListener(p,"domready",c)))},[c]),l.useEffect(()=>{p&&d&&(b!==null&&google.maps.event.removeListener(b),j(google.maps.event.addListener(p,"content_changed",d)))},[d]),l.useEffect(()=>{p&&u&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(p,"position_changed",u)))},[u]),l.useEffect(()=>{p&&h&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(p,"zindex_changed",h)))},[h]),l.useEffect(()=>{if(x){var B=r||Vd,{position:D}=B,V=pr(B,Wd),U;D&&!(D instanceof google.maps.LatLng)&&(U=new google.maps.LatLng(D.lat,D.lng));var F=new ko(rn(rn({},V),U?{position:U}:{}));_.current=document.createElement("div"),m(F),a&&w(google.maps.event.addListener(F,"closeclick",a)),c&&k(google.maps.event.addListener(F,"domready",c)),d&&j(google.maps.event.addListener(F,"content_changed",d)),u&&R(google.maps.event.addListener(F,"position_changed",u)),h&&P(google.maps.event.addListener(F,"zindex_changed",h)),F.setContent(_.current),n?F.open(x,n):F.getPosition()?F.open(x):xe(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(F)}return()=>{p!==null&&(g&&google.maps.event.removeListener(g),b&&google.maps.event.removeListener(b),C&&google.maps.event.removeListener(C),M&&google.maps.event.removeListener(M),I&&google.maps.event.removeListener(I),v&&v(p),p.close())}},[]),_.current?nt.createPortal(l.Children.only(e),_.current):null}l.memo(Hd);class Gd extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"containerElement",null),E(this,"state",{infoBox:null}),E(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):xe(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),E(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=pr(e,$d),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var o=new ko(rn(rn({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=te({updaterMap:Os,eventMap:Ps,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Os,eventMap:Ps,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),ne(this.registeredEvents),n.close())}render(){return this.containerElement?nt.createPortal(l.Children.only(this.props.children),this.containerElement):null}}E(Gd,"contextType",Y);var In,ks;function Zd(){return ks||(ks=1,In=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),In}var qd=Zd(),Rs=Co(qd),As=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],_n=1,vt=8;class fr{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==_n)throw new Error("Got v".concat(i," data when expected v").concat(_n,"."));var o=As[r&15];if(!o)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new fr(c,a,o,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var o=As.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,vt,e),this.coords=new this.ArrayType(this.data,vt+c+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(vt+a+c+d),this.ids=new this.IndexArrayType(this.data,vt,e),this.coords=new this.ArrayType(this.data,vt+c+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(_n<<4)+o]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Kn(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:a,nodeSize:c}=this,d=[0,o.length-1,0],u=[];d.length;){var h=d.pop()||0,f=d.pop()||0,v=d.pop()||0;if(f-v<=c){for(var x=v;x<=f;x++){var p=a[2*x],m=a[2*x+1];p>=e&&p<=r&&m>=n&&m<=i&&u.push(o[x])}continue}var g=v+f>>1,w=a[2*g],C=a[2*g+1];w>=e&&w<=r&&C>=n&&C<=i&&u.push(o[g]),(h===0?e<=w:n<=C)&&(d.push(v),d.push(g-1),d.push(1-h)),(h===0?r>=w:i>=C)&&(d.push(g+1),d.push(f),d.push(1-h))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:a}=this,c=[0,i.length-1,0],d=[],u=r*r;c.length;){var h=c.pop()||0,f=c.pop()||0,v=c.pop()||0;if(f-v<=a){for(var x=v;x<=f;x++)Ds(o[2*x],o[2*x+1],e,n)<=u&&d.push(i[x]);continue}var p=v+f>>1,m=o[2*p],g=o[2*p+1];Ds(m,g,e,n)<=u&&d.push(i[p]),(h===0?e-r<=m:n-r<=g)&&(c.push(v),c.push(p-1),c.push(1-h)),(h===0?e+r>=m:n+r>=g)&&(c.push(p+1),c.push(f),c.push(1-h))}return d}}function Kn(t,e,n,r,i,o){if(!(i-r<=n)){var a=r+i>>1;Ro(t,e,a,r,i,o),Kn(t,e,n,r,a-1,1-o),Kn(t,e,n,a+1,i,1-o)}}function Ro(t,e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,c=n-r+1,d=Math.log(a),u=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*u*(a-u)/a)*(c-a/2<0?-1:1),f=Math.max(r,Math.floor(n-c*u/a+h)),v=Math.min(i,Math.floor(n+(a-c)*u/a+h));Ro(t,e,n,f,v,o)}var x=e[2*n+o],p=r,m=i;for(xt(t,e,r,n),e[2*i+o]>x&&xt(t,e,r,i);p<m;){for(xt(t,e,p,m),p++,m--;e[2*p+o]<x;)p++;for(;e[2*m+o]>x;)m--}e[2*r+o]===x?xt(t,e,r,m):(m++,xt(t,e,m,i)),m<=n&&(r=m+1),n<=m&&(i=m-1)}}function xt(t,e,n,r){Bn(t,n,r),Bn(e,2*n,2*r),Bn(e,2*n+1,2*r+1)}function Bn(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ds(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}var Kd={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Ts=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Je=2,Ne=3,zn=4,Ue=5,Ao=6;class Jd{constructor(e){this.options=Object.assign(Object.create(Kd),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var o="prepare ".concat(e.length," points");n&&console.time(o),this.points=e;for(var a=[],c=0;c<e.length;c++){var d=e[c];if(d.geometry){var[u,h]=d.geometry.coordinates,f=Ts(Zt(u)),v=Ts(qt(h));a.push(f,v,1/0,c,-1,1),this.options.reduce&&a.push(0)}}var x=this.trees[i+1]=this._createTree(a);n&&console.timeEnd(o);for(var p=i;p>=r;p--){var m=+Date.now();x=this.trees[p]=this._createTree(this._cluster(x,p)),n&&console.log("z%d: %d clusters in %dms",p,x.numItems,+Date.now()-m)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),o=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){var c=this.getClusters([r,i,180,a],n),d=this.getClusters([-180,i,o,a],n);return c.concat(d)}var u=this.trees[this._limitZoom(n)],h=u.range(Zt(r),qt(a),Zt(o),qt(i)),f=u.data,v=[];for(var x of h){var p=this.stride*x;v.push(f[p+Ue]>1?Is(f,p,this.clusterProps):this.points[f[p+Ne]])}return v}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(i);var a=o.data;if(n*this.stride>=a.length)throw new Error(i);var c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),d=a[n*this.stride],u=a[n*this.stride+1],h=o.within(d,u,c),f=[];for(var v of h){var x=v*this.stride;a[x+zn]===e&&f.push(a[x+Ue]>1?Is(a,x,this.clusterProps):this.points[a[x+Ne]])}if(f.length===0)throw new Error(i);return f}getLeaves(e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){var i=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:a,radius:c}=this.options,d=c/a,u=(r-d)/o,h=(r+1+d)/o,f={features:[]};return this._addTileFeatures(i.range((n-d)/o,u,(n+1+d)/o,h),i.data,n,r,o,f),n===0&&this._addTileFeatures(i.range(1-d/o,u,1,h),i.data,o,r,o,f),n===o-1&&this._addTileFeatures(i.range(0,u,d/o,h),i.data,-1,r,o,f),f.features.length?f:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,o){var a=this.getChildren(n);for(var c of a){var d=c.properties;if(d&&d.cluster?o+d.point_count<=i?o+=d.point_count:o=this._appendLeaves(e,d.cluster_id,r,i,o):o<i?o++:e.push(c),e.length===r)break}return o}_createTree(e){for(var n=new fr(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,o,a){for(var c of e){var d=c*this.stride,u=n[d+Ue]>1,h=void 0,f=void 0,v=void 0;if(u)h=Do(n,d,this.clusterProps),f=n[d],v=n[d+1];else{var x=this.points[n[d+Ne]];h=x.properties;var[p,m]=x.geometry.coordinates;f=Zt(p),v=qt(m)}var g={type:1,geometry:[[Math.round(this.options.extent*(f*o-r)),Math.round(this.options.extent*(v*o-i))]],tags:h},w=void 0;u||this.options.generateId?w=n[d+Ne]:w=this.points[n[d+Ne]].id,w!==void 0&&(g.id=w),a.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:i,reduce:o,minPoints:a}=this.options,c=r/(i*Math.pow(2,n)),d=e.data,u=[],h=this.stride,f=0;f<d.length;f+=h)if(!(d[f+Je]<=n)){d[f+Je]=n;var v=d[f],x=d[f+1],p=e.within(d[f],d[f+1],c),m=d[f+Ue],g=m;for(var w of p){var C=w*h;d[C+Je]>n&&(g+=d[C+Ue])}if(g>m&&g>=a){var k=v*m,b=x*m,j=void 0,M=-1,R=((f/h|0)<<5)+(n+1)+this.points.length;for(var I of p){var P=I*h;if(!(d[P+Je]<=n)){d[P+Je]=n;var _=d[P+Ue];k+=d[P]*_,b+=d[P+1]*_,d[P+zn]=R,o&&(j||(j=this._map(d,f,!0),M=this.clusterProps.length,this.clusterProps.push(j)),o(j,this._map(d,P)))}}d[f+zn]=R,u.push(k/g,b/g,1/0,R,-1,g),o&&u.push(M)}else{for(var B=0;B<h;B++)u.push(d[f+B]);if(g>1)for(var D of p){var V=D*h;if(!(d[V+Je]<=n)){d[V+Je]=n;for(var U=0;U<h;U++)u.push(d[V+U])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Ue]>1){var i=this.clusterProps[e[n+Ao]];return r?Object.assign({},i):i}var o=this.points[e[n+Ne]].properties,a=this.options.map(o);return r&&a===o?Object.assign({},a):a}}function Is(t,e,n){return{type:"Feature",id:t[e+Ne],properties:Do(t,e,n),geometry:{type:"Point",coordinates:[Yd(t[e]),Xd(t[e+1])]}}}function Do(t,e,n){var r=t[e+Ue],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=t[e+Ao],a=o===-1?{}:Object.assign({},n[o]);return Object.assign(a,{cluster:!0,cluster_id:t[e+Ne],point_count:r,point_count_abbreviated:i})}function Zt(t){return t/360+.5}function qt(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Yd(t){return(t-.5)*360}function Xd(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Qd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Ee{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Jn{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Ee.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Ee.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Ee.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class eu{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return tu(n)}}var tu=t=>{var e=t.map(n=>new Jn({position:Ee.getPosition(n),markers:[n]}));return e};class nu extends eu{constructor(e){var{maxZoom:n,radius:r=60}=e,i=Qd(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Jd(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!Rs(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(o=>{var a=Ee.getPosition(o),c=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:o}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Rs(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:i}=e;if(i.cluster)return new Jn({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var o=i.marker;return new Jn({markers:[o],position:Ee.getPosition(o)})}}class ru{constructor(e,n){this.markers={sum:e.length};var r=n.map(o=>o.count),i=r.reduce((o,a)=>o+a,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class su{render(e,n,r){var{count:i,position:o}=e,a=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),d="Cluster of ".concat(i," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+i;if(Ee.isAdvancedMarkerAvailable(r)){var h=new DOMParser,f=h.parseFromString(c,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var v={map:r,position:o,zIndex:u,title:d,content:f};return new google.maps.marker.AdvancedMarkerElement(v)}var x={position:o,zIndex:u,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(x)}}function iu(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class gr{constructor(){iu(gr,google.maps.OverlayView)}}var bt;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(bt||(bt={}));var ou=(t,e,n)=>{n.fitBounds(e.bounds)};class au extends gr{constructor(e){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:o=new nu(i),renderer:a=new su,onClusterClick:c=ou}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=o,this.renderer=a,this.onClusterClick=c,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Ee.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,bt.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var o of n)o.markers.length==1&&i.add(o.markers[0]);var a=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?i.has(c.marker)||Ee.setMap(c.marker,null):a.push(c.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(d=>Ee.setMap(d,null)))}google.maps.event.trigger(this,bt.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Ee.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new ru(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>Ee.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,bt.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),Ee.setMap(r.marker,n)})}}function _s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_s(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lu(t){var e=ad(),[n,r]=l.useState(null);return l.useEffect(()=>{if(e&&n===null){var i=new au(Bs(Bs({},t),{},{map:e}));r(i)}},[e]),n}function cu(t){var{children:e,options:n}=t,r=lu(n);return r!==null?e(r):null}l.memo(cu);var zs={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Us={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function du(t){var{children:e,anchor:n,options:r,position:i,zIndex:o,onCloseClick:a,onDomReady:c,onContentChanged:d,onPositionChanged:u,onZindexChanged:h,onLoad:f,onUnmount:v}=t,x=l.useContext(Y),[p,m]=l.useState(null),[g,w]=l.useState(null),[C,k]=l.useState(null),[b,j]=l.useState(null),[M,R]=l.useState(null),[I,P]=l.useState(null),_=l.useRef(null);return l.useEffect(()=>{p!==null&&(p.close(),n?p.open(x,n):p.getPosition()&&p.open(x))},[x,p,n]),l.useEffect(()=>{r&&p!==null&&p.setOptions(r)},[p,r]),l.useEffect(()=>{i&&p!==null&&p.setPosition(i)},[i]),l.useEffect(()=>{typeof o=="number"&&p!==null&&p.setZIndex(o)},[o]),l.useEffect(()=>{p&&a&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(p,"closeclick",a)))},[a]),l.useEffect(()=>{p&&c&&(C!==null&&google.maps.event.removeListener(C),k(google.maps.event.addListener(p,"domready",c)))},[c]),l.useEffect(()=>{p&&d&&(b!==null&&google.maps.event.removeListener(b),j(google.maps.event.addListener(p,"content_changed",d)))},[d]),l.useEffect(()=>{p&&u&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(p,"position_changed",u)))},[u]),l.useEffect(()=>{p&&h&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(p,"zindex_changed",h)))},[h]),l.useEffect(()=>{var B=new google.maps.InfoWindow(r);return m(B),_.current=document.createElement("div"),a&&w(google.maps.event.addListener(B,"closeclick",a)),c&&k(google.maps.event.addListener(B,"domready",c)),d&&j(google.maps.event.addListener(B,"content_changed",d)),u&&R(google.maps.event.addListener(B,"position_changed",u)),h&&P(google.maps.event.addListener(B,"zindex_changed",h)),B.setContent(_.current),i&&B.setPosition(i),o&&B.setZIndex(o),n?B.open(x,n):B.getPosition()?B.open(x):xe(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(B),()=>{g&&google.maps.event.removeListener(g),b&&google.maps.event.removeListener(b),C&&google.maps.event.removeListener(C),M&&google.maps.event.removeListener(M),I&&google.maps.event.removeListener(I),v&&v(B),B.close()}},[]),_.current?nt.createPortal(l.Children.only(e),_.current):null}l.memo(du);class uu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"containerElement",null),E(this,"state",{infoWindow:null}),E(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):xe(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),E(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=te({updaterMap:Us,eventMap:zs,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Us,eventMap:zs,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ne(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?nt.createPortal(l.Children.only(this.props.children),this.containerElement):null}}E(uu,"contextType",Y);function Ns(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ns(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ns(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Fs={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ws={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},hu={};function pu(t){var{options:e,draggable:n,editable:r,visible:i,path:o,onDblClick:a,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:h,onMouseOut:f,onMouseOver:v,onMouseUp:x,onRightClick:p,onClick:m,onDrag:g,onLoad:w,onUnmount:C}=t,k=l.useContext(Y),[b,j]=l.useState(null),[M,R]=l.useState(null),[I,P]=l.useState(null),[_,B]=l.useState(null),[D,V]=l.useState(null),[U,F]=l.useState(null),[W,oe]=l.useState(null),[H,re]=l.useState(null),[Q,A]=l.useState(null),[q,T]=l.useState(null),[se,O]=l.useState(null),[he,de]=l.useState(null);return l.useEffect(()=>{b!==null&&b.setMap(k)},[k]),l.useEffect(()=>{typeof e<"u"&&b!==null&&b.setOptions(e)},[b,e]),l.useEffect(()=>{typeof n<"u"&&b!==null&&b.setDraggable(n)},[b,n]),l.useEffect(()=>{typeof r<"u"&&b!==null&&b.setEditable(r)},[b,r]),l.useEffect(()=>{typeof i<"u"&&b!==null&&b.setVisible(i)},[b,i]),l.useEffect(()=>{typeof o<"u"&&b!==null&&b.setPath(o)},[b,o]),l.useEffect(()=>{b&&a&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(b,"dblclick",a)))},[a]),l.useEffect(()=>{b&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(b,"dragend",c)))},[c]),l.useEffect(()=>{b&&d&&(_!==null&&google.maps.event.removeListener(_),B(google.maps.event.addListener(b,"dragstart",d)))},[d]),l.useEffect(()=>{b&&u&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(b,"mousedown",u)))},[u]),l.useEffect(()=>{b&&h&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(b,"mousemove",h)))},[h]),l.useEffect(()=>{b&&f&&(W!==null&&google.maps.event.removeListener(W),oe(google.maps.event.addListener(b,"mouseout",f)))},[f]),l.useEffect(()=>{b&&v&&(H!==null&&google.maps.event.removeListener(H),re(google.maps.event.addListener(b,"mouseover",v)))},[v]),l.useEffect(()=>{b&&x&&(Q!==null&&google.maps.event.removeListener(Q),A(google.maps.event.addListener(b,"mouseup",x)))},[x]),l.useEffect(()=>{b&&p&&(q!==null&&google.maps.event.removeListener(q),T(google.maps.event.addListener(b,"rightclick",p)))},[p]),l.useEffect(()=>{b&&m&&(se!==null&&google.maps.event.removeListener(se),O(google.maps.event.addListener(b,"click",m)))},[m]),l.useEffect(()=>{b&&g&&(he!==null&&google.maps.event.removeListener(he),de(google.maps.event.addListener(b,"drag",g)))},[g]),l.useEffect(()=>{var ee=new google.maps.Polyline(sn(sn({},e||hu),{},{map:k}));return o&&ee.setPath(o),typeof i<"u"&&ee.setVisible(i),typeof r<"u"&&ee.setEditable(r),typeof n<"u"&&ee.setDraggable(n),a&&R(google.maps.event.addListener(ee,"dblclick",a)),c&&P(google.maps.event.addListener(ee,"dragend",c)),d&&B(google.maps.event.addListener(ee,"dragstart",d)),u&&V(google.maps.event.addListener(ee,"mousedown",u)),h&&F(google.maps.event.addListener(ee,"mousemove",h)),f&&oe(google.maps.event.addListener(ee,"mouseout",f)),v&&re(google.maps.event.addListener(ee,"mouseover",v)),x&&A(google.maps.event.addListener(ee,"mouseup",x)),p&&T(google.maps.event.addListener(ee,"rightclick",p)),m&&O(google.maps.event.addListener(ee,"click",m)),g&&de(google.maps.event.addListener(ee,"drag",g)),j(ee),w&&w(ee),()=>{M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),_!==null&&google.maps.event.removeListener(_),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),W!==null&&google.maps.event.removeListener(W),H!==null&&google.maps.event.removeListener(H),Q!==null&&google.maps.event.removeListener(Q),q!==null&&google.maps.event.removeListener(q),se!==null&&google.maps.event.removeListener(se),C&&C(ee),ee.setMap(null)}},[]),null}l.memo(pu);class fu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{polyline:null}),E(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(sn(sn({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Ws,eventMap:Fs,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Ws,eventMap:Fs,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ne(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}E(fu,"contextType",Y);function $s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$s(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Hs={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gs={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function gu(t){var{options:e,draggable:n,editable:r,visible:i,path:o,paths:a,onDblClick:c,onDragEnd:d,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:v,onMouseOver:x,onMouseUp:p,onRightClick:m,onClick:g,onDrag:w,onLoad:C,onUnmount:k,onEdit:b}=t,j=l.useContext(Y),[M,R]=l.useState(null),[I,P]=l.useState(null),[_,B]=l.useState(null),[D,V]=l.useState(null),[U,F]=l.useState(null),[W,oe]=l.useState(null),[H,re]=l.useState(null),[Q,A]=l.useState(null),[q,T]=l.useState(null),[se,O]=l.useState(null),[he,de]=l.useState(null),[ee,ve]=l.useState(null);return l.useEffect(()=>{M!==null&&M.setMap(j)},[j]),l.useEffect(()=>{typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),l.useEffect(()=>{typeof n<"u"&&M!==null&&M.setDraggable(n)},[M,n]),l.useEffect(()=>{typeof r<"u"&&M!==null&&M.setEditable(r)},[M,r]),l.useEffect(()=>{typeof i<"u"&&M!==null&&M.setVisible(i)},[M,i]),l.useEffect(()=>{typeof o<"u"&&M!==null&&M.setPath(o)},[M,o]),l.useEffect(()=>{typeof a<"u"&&M!==null&&M.setPaths(a)},[M,a]),l.useEffect(()=>{M&&typeof c=="function"&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(M,"dblclick",c)))},[c]),l.useEffect(()=>{M&&(google.maps.event.addListener(M.getPath(),"insert_at",()=>{b==null||b(M)}),google.maps.event.addListener(M.getPath(),"set_at",()=>{b==null||b(M)}),google.maps.event.addListener(M.getPath(),"remove_at",()=>{b==null||b(M)}))},[M,b]),l.useEffect(()=>{M&&typeof d=="function"&&(_!==null&&google.maps.event.removeListener(_),B(google.maps.event.addListener(M,"dragend",d)))},[d]),l.useEffect(()=>{M&&typeof u=="function"&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(M,"dragstart",u)))},[u]),l.useEffect(()=>{M&&typeof h=="function"&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(M,"mousedown",h)))},[h]),l.useEffect(()=>{M&&typeof f=="function"&&(W!==null&&google.maps.event.removeListener(W),oe(google.maps.event.addListener(M,"mousemove",f)))},[f]),l.useEffect(()=>{M&&typeof v=="function"&&(H!==null&&google.maps.event.removeListener(H),re(google.maps.event.addListener(M,"mouseout",v)))},[v]),l.useEffect(()=>{M&&typeof x=="function"&&(Q!==null&&google.maps.event.removeListener(Q),A(google.maps.event.addListener(M,"mouseover",x)))},[x]),l.useEffect(()=>{M&&typeof p=="function"&&(q!==null&&google.maps.event.removeListener(q),T(google.maps.event.addListener(M,"mouseup",p)))},[p]),l.useEffect(()=>{M&&typeof m=="function"&&(se!==null&&google.maps.event.removeListener(se),O(google.maps.event.addListener(M,"rightclick",m)))},[m]),l.useEffect(()=>{M&&typeof g=="function"&&(he!==null&&google.maps.event.removeListener(he),de(google.maps.event.addListener(M,"click",g)))},[g]),l.useEffect(()=>{M&&typeof w=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ve(google.maps.event.addListener(M,"drag",w)))},[w]),l.useEffect(()=>{var $=new google.maps.Polygon(Vs(Vs({},e),{},{map:j}));return o&&$.setPath(o),a&&$.setPaths(a),typeof i<"u"&&$.setVisible(i),typeof r<"u"&&$.setEditable(r),typeof n<"u"&&$.setDraggable(n),c&&P(google.maps.event.addListener($,"dblclick",c)),d&&B(google.maps.event.addListener($,"dragend",d)),u&&V(google.maps.event.addListener($,"dragstart",u)),h&&F(google.maps.event.addListener($,"mousedown",h)),f&&oe(google.maps.event.addListener($,"mousemove",f)),v&&re(google.maps.event.addListener($,"mouseout",v)),x&&A(google.maps.event.addListener($,"mouseover",x)),p&&T(google.maps.event.addListener($,"mouseup",p)),m&&O(google.maps.event.addListener($,"rightclick",m)),g&&de(google.maps.event.addListener($,"click",g)),w&&ve(google.maps.event.addListener($,"drag",w)),R($),C&&C($),()=>{I!==null&&google.maps.event.removeListener(I),_!==null&&google.maps.event.removeListener(_),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),W!==null&&google.maps.event.removeListener(W),H!==null&&google.maps.event.removeListener(H),Q!==null&&google.maps.event.removeListener(Q),q!==null&&google.maps.event.removeListener(q),se!==null&&google.maps.event.removeListener(se),he!==null&&google.maps.event.removeListener(he),k&&k($),$.setMap(null)}},[]),null}l.memo(gu);class mu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=te({updaterMap:Gs,eventMap:Hs,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Gs,eventMap:Hs,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ne(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}E(mu,"contextType",Y);function Zs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zs(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var qs={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ks={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function vu(t){var{options:e,bounds:n,draggable:r,editable:i,visible:o,onDblClick:a,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:h,onMouseOut:f,onMouseOver:v,onMouseUp:x,onRightClick:p,onClick:m,onDrag:g,onBoundsChanged:w,onLoad:C,onUnmount:k}=t,b=l.useContext(Y),[j,M]=l.useState(null),[R,I]=l.useState(null),[P,_]=l.useState(null),[B,D]=l.useState(null),[V,U]=l.useState(null),[F,W]=l.useState(null),[oe,H]=l.useState(null),[re,Q]=l.useState(null),[A,q]=l.useState(null),[T,se]=l.useState(null),[O,he]=l.useState(null),[de,ee]=l.useState(null),[ve,$]=l.useState(null);return l.useEffect(()=>{j!==null&&j.setMap(b)},[b]),l.useEffect(()=>{typeof e<"u"&&j!==null&&j.setOptions(e)},[j,e]),l.useEffect(()=>{typeof r<"u"&&j!==null&&j.setDraggable(r)},[j,r]),l.useEffect(()=>{typeof i<"u"&&j!==null&&j.setEditable(i)},[j,i]),l.useEffect(()=>{typeof o<"u"&&j!==null&&j.setVisible(o)},[j,o]),l.useEffect(()=>{typeof n<"u"&&j!==null&&j.setBounds(n)},[j,n]),l.useEffect(()=>{j&&a&&(R!==null&&google.maps.event.removeListener(R),I(google.maps.event.addListener(j,"dblclick",a)))},[a]),l.useEffect(()=>{j&&c&&(P!==null&&google.maps.event.removeListener(P),_(google.maps.event.addListener(j,"dragend",c)))},[c]),l.useEffect(()=>{j&&d&&(B!==null&&google.maps.event.removeListener(B),D(google.maps.event.addListener(j,"dragstart",d)))},[d]),l.useEffect(()=>{j&&u&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(j,"mousedown",u)))},[u]),l.useEffect(()=>{j&&h&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(j,"mousemove",h)))},[h]),l.useEffect(()=>{j&&f&&(oe!==null&&google.maps.event.removeListener(oe),H(google.maps.event.addListener(j,"mouseout",f)))},[f]),l.useEffect(()=>{j&&v&&(re!==null&&google.maps.event.removeListener(re),Q(google.maps.event.addListener(j,"mouseover",v)))},[v]),l.useEffect(()=>{j&&x&&(A!==null&&google.maps.event.removeListener(A),q(google.maps.event.addListener(j,"mouseup",x)))},[x]),l.useEffect(()=>{j&&p&&(T!==null&&google.maps.event.removeListener(T),se(google.maps.event.addListener(j,"rightclick",p)))},[p]),l.useEffect(()=>{j&&m&&(O!==null&&google.maps.event.removeListener(O),he(google.maps.event.addListener(j,"click",m)))},[m]),l.useEffect(()=>{j&&g&&(de!==null&&google.maps.event.removeListener(de),ee(google.maps.event.addListener(j,"drag",g)))},[g]),l.useEffect(()=>{j&&w&&(ve!==null&&google.maps.event.removeListener(ve),$(google.maps.event.addListener(j,"bounds_changed",w)))},[w]),l.useEffect(()=>{var ae=new google.maps.Rectangle(on(on({},e),{},{map:b}));return typeof o<"u"&&ae.setVisible(o),typeof i<"u"&&ae.setEditable(i),typeof r<"u"&&ae.setDraggable(r),typeof n<"u"&&ae.setBounds(n),a&&I(google.maps.event.addListener(ae,"dblclick",a)),c&&_(google.maps.event.addListener(ae,"dragend",c)),d&&D(google.maps.event.addListener(ae,"dragstart",d)),u&&U(google.maps.event.addListener(ae,"mousedown",u)),h&&W(google.maps.event.addListener(ae,"mousemove",h)),f&&H(google.maps.event.addListener(ae,"mouseout",f)),v&&Q(google.maps.event.addListener(ae,"mouseover",v)),x&&q(google.maps.event.addListener(ae,"mouseup",x)),p&&se(google.maps.event.addListener(ae,"rightclick",p)),m&&he(google.maps.event.addListener(ae,"click",m)),g&&ee(google.maps.event.addListener(ae,"drag",g)),w&&$(google.maps.event.addListener(ae,"bounds_changed",w)),M(ae),C&&C(ae),()=>{R!==null&&google.maps.event.removeListener(R),P!==null&&google.maps.event.removeListener(P),B!==null&&google.maps.event.removeListener(B),V!==null&&google.maps.event.removeListener(V),F!==null&&google.maps.event.removeListener(F),oe!==null&&google.maps.event.removeListener(oe),re!==null&&google.maps.event.removeListener(re),A!==null&&google.maps.event.removeListener(A),T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),de!==null&&google.maps.event.removeListener(de),ve!==null&&google.maps.event.removeListener(ve),k&&k(ae),ae.setMap(null)}},[]),null}l.memo(vu);class xu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{rectangle:null}),E(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(on(on({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Ks,eventMap:qs,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Ks,eventMap:qs,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ne(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}E(xu,"contextType",Y);function Js(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Js(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ys={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Xs={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},yu={};function bu(t){var{options:e,center:n,radius:r,draggable:i,editable:o,visible:a,onDblClick:c,onDragEnd:d,onDragStart:u,onMouseDown:h,onMouseMove:f,onMouseOut:v,onMouseOver:x,onMouseUp:p,onRightClick:m,onClick:g,onDrag:w,onCenterChanged:C,onRadiusChanged:k,onLoad:b,onUnmount:j}=t,M=l.useContext(Y),[R,I]=l.useState(null),[P,_]=l.useState(null),[B,D]=l.useState(null),[V,U]=l.useState(null),[F,W]=l.useState(null),[oe,H]=l.useState(null),[re,Q]=l.useState(null),[A,q]=l.useState(null),[T,se]=l.useState(null),[O,he]=l.useState(null),[de,ee]=l.useState(null),[ve,$]=l.useState(null),[ae,Re]=l.useState(null),[Ie,pt]=l.useState(null);return l.useEffect(()=>{R!==null&&R.setMap(M)},[M]),l.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),l.useEffect(()=>{typeof i<"u"&&R!==null&&R.setDraggable(i)},[R,i]),l.useEffect(()=>{typeof o<"u"&&R!==null&&R.setEditable(o)},[R,o]),l.useEffect(()=>{typeof a<"u"&&R!==null&&R.setVisible(a)},[R,a]),l.useEffect(()=>{typeof r=="number"&&R!==null&&R.setRadius(r)},[R,r]),l.useEffect(()=>{typeof n<"u"&&R!==null&&R.setCenter(n)},[R,n]),l.useEffect(()=>{R&&c&&(P!==null&&google.maps.event.removeListener(P),_(google.maps.event.addListener(R,"dblclick",c)))},[c]),l.useEffect(()=>{R&&d&&(B!==null&&google.maps.event.removeListener(B),D(google.maps.event.addListener(R,"dragend",d)))},[d]),l.useEffect(()=>{R&&u&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(R,"dragstart",u)))},[u]),l.useEffect(()=>{R&&h&&(F!==null&&google.maps.event.removeListener(F),W(google.maps.event.addListener(R,"mousedown",h)))},[h]),l.useEffect(()=>{R&&f&&(oe!==null&&google.maps.event.removeListener(oe),H(google.maps.event.addListener(R,"mousemove",f)))},[f]),l.useEffect(()=>{R&&v&&(re!==null&&google.maps.event.removeListener(re),Q(google.maps.event.addListener(R,"mouseout",v)))},[v]),l.useEffect(()=>{R&&x&&(A!==null&&google.maps.event.removeListener(A),q(google.maps.event.addListener(R,"mouseover",x)))},[x]),l.useEffect(()=>{R&&p&&(T!==null&&google.maps.event.removeListener(T),se(google.maps.event.addListener(R,"mouseup",p)))},[p]),l.useEffect(()=>{R&&m&&(O!==null&&google.maps.event.removeListener(O),he(google.maps.event.addListener(R,"rightclick",m)))},[m]),l.useEffect(()=>{R&&g&&(de!==null&&google.maps.event.removeListener(de),ee(google.maps.event.addListener(R,"click",g)))},[g]),l.useEffect(()=>{R&&w&&(ve!==null&&google.maps.event.removeListener(ve),$(google.maps.event.addListener(R,"drag",w)))},[w]),l.useEffect(()=>{R&&C&&(ae!==null&&google.maps.event.removeListener(ae),Re(google.maps.event.addListener(R,"center_changed",C)))},[g]),l.useEffect(()=>{R&&k&&(Ie!==null&&google.maps.event.removeListener(Ie),pt(google.maps.event.addListener(R,"radius_changed",k)))},[k]),l.useEffect(()=>{var ce=new google.maps.Circle(an(an({},e||yu),{},{map:M}));return typeof r=="number"&&ce.setRadius(r),typeof n<"u"&&ce.setCenter(n),typeof r=="number"&&ce.setRadius(r),typeof a<"u"&&ce.setVisible(a),typeof o<"u"&&ce.setEditable(o),typeof i<"u"&&ce.setDraggable(i),c&&_(google.maps.event.addListener(ce,"dblclick",c)),d&&D(google.maps.event.addListener(ce,"dragend",d)),u&&U(google.maps.event.addListener(ce,"dragstart",u)),h&&W(google.maps.event.addListener(ce,"mousedown",h)),f&&H(google.maps.event.addListener(ce,"mousemove",f)),v&&Q(google.maps.event.addListener(ce,"mouseout",v)),x&&q(google.maps.event.addListener(ce,"mouseover",x)),p&&se(google.maps.event.addListener(ce,"mouseup",p)),m&&he(google.maps.event.addListener(ce,"rightclick",m)),g&&ee(google.maps.event.addListener(ce,"click",g)),w&&$(google.maps.event.addListener(ce,"drag",w)),C&&Re(google.maps.event.addListener(ce,"center_changed",C)),k&&pt(google.maps.event.addListener(ce,"radius_changed",k)),I(ce),b&&b(ce),()=>{P!==null&&google.maps.event.removeListener(P),B!==null&&google.maps.event.removeListener(B),V!==null&&google.maps.event.removeListener(V),F!==null&&google.maps.event.removeListener(F),oe!==null&&google.maps.event.removeListener(oe),re!==null&&google.maps.event.removeListener(re),A!==null&&google.maps.event.removeListener(A),T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),de!==null&&google.maps.event.removeListener(de),ae!==null&&google.maps.event.removeListener(ae),Ie!==null&&google.maps.event.removeListener(Ie),j&&j(ce),ce.setMap(null)}},[]),null}l.memo(bu);class ju extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{circle:null}),E(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(an(an({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Xs,eventMap:Ys,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Xs,eventMap:Ys,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),ne(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}E(ju,"contextType",Y);function Qs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qs(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ei={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},ti={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function Lu(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:o,onMouseOut:a,onMouseOver:c,onMouseUp:d,onRightClick:u,onAddFeature:h,onRemoveFeature:f,onRemoveProperty:v,onSetGeometry:x,onSetProperty:p,onLoad:m,onUnmount:g}=t,w=l.useContext(Y),[C,k]=l.useState(null),[b,j]=l.useState(null),[M,R]=l.useState(null),[I,P]=l.useState(null),[_,B]=l.useState(null),[D,V]=l.useState(null),[U,F]=l.useState(null),[W,oe]=l.useState(null),[H,re]=l.useState(null),[Q,A]=l.useState(null),[q,T]=l.useState(null),[se,O]=l.useState(null),[he,de]=l.useState(null),[ee,ve]=l.useState(null);return l.useEffect(()=>{C!==null&&C.setMap(w)},[w]),l.useEffect(()=>{C&&r&&(b!==null&&google.maps.event.removeListener(b),j(google.maps.event.addListener(C,"dblclick",r)))},[r]),l.useEffect(()=>{C&&i&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(C,"mousedown",i)))},[i]),l.useEffect(()=>{C&&o&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(C,"mousemove",o)))},[o]),l.useEffect(()=>{C&&a&&(_!==null&&google.maps.event.removeListener(_),B(google.maps.event.addListener(C,"mouseout",a)))},[a]),l.useEffect(()=>{C&&c&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(C,"mouseover",c)))},[c]),l.useEffect(()=>{C&&d&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(C,"mouseup",d)))},[d]),l.useEffect(()=>{C&&u&&(W!==null&&google.maps.event.removeListener(W),oe(google.maps.event.addListener(C,"rightclick",u)))},[u]),l.useEffect(()=>{C&&n&&(H!==null&&google.maps.event.removeListener(H),re(google.maps.event.addListener(C,"click",n)))},[n]),l.useEffect(()=>{C&&h&&(Q!==null&&google.maps.event.removeListener(Q),A(google.maps.event.addListener(C,"addfeature",h)))},[h]),l.useEffect(()=>{C&&f&&(q!==null&&google.maps.event.removeListener(q),T(google.maps.event.addListener(C,"removefeature",f)))},[f]),l.useEffect(()=>{C&&v&&(se!==null&&google.maps.event.removeListener(se),O(google.maps.event.addListener(C,"removeproperty",v)))},[v]),l.useEffect(()=>{C&&x&&(he!==null&&google.maps.event.removeListener(he),de(google.maps.event.addListener(C,"setgeometry",x)))},[x]),l.useEffect(()=>{C&&p&&(ee!==null&&google.maps.event.removeListener(ee),ve(google.maps.event.addListener(C,"setproperty",p)))},[p]),l.useEffect(()=>{if(w!==null){var $=new google.maps.Data(ln(ln({},e),{},{map:w}));r&&j(google.maps.event.addListener($,"dblclick",r)),i&&R(google.maps.event.addListener($,"mousedown",i)),o&&P(google.maps.event.addListener($,"mousemove",o)),a&&B(google.maps.event.addListener($,"mouseout",a)),c&&V(google.maps.event.addListener($,"mouseover",c)),d&&F(google.maps.event.addListener($,"mouseup",d)),u&&oe(google.maps.event.addListener($,"rightclick",u)),n&&re(google.maps.event.addListener($,"click",n)),h&&A(google.maps.event.addListener($,"addfeature",h)),f&&T(google.maps.event.addListener($,"removefeature",f)),v&&O(google.maps.event.addListener($,"removeproperty",v)),x&&de(google.maps.event.addListener($,"setgeometry",x)),p&&ve(google.maps.event.addListener($,"setproperty",p)),k($),m&&m($)}return()=>{C&&(b!==null&&google.maps.event.removeListener(b),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),_!==null&&google.maps.event.removeListener(_),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),W!==null&&google.maps.event.removeListener(W),H!==null&&google.maps.event.removeListener(H),Q!==null&&google.maps.event.removeListener(Q),q!==null&&google.maps.event.removeListener(q),se!==null&&google.maps.event.removeListener(se),he!==null&&google.maps.event.removeListener(he),ee!==null&&google.maps.event.removeListener(ee),g&&g(C),C.setMap(null))}},[]),null}l.memo(Lu);class Cu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{data:null}),E(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(ln(ln({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:ti,eventMap:ei,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:ti,eventMap:ei,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ne(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}E(Cu,"contextType",Y);function ni(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ni(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var si={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},ii={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class wu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{kmlLayer:null}),E(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(ri(ri({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:ii,eventMap:si,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:ii,eventMap:si,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ne(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}E(wu,"contextType",Y);function To(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function Su(t,e){return new e(t.lat,t.lng)}function Eu(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function Mu(t,e,n){return t instanceof e?t:n(t,e)}function Pu(t,e,n){return t instanceof e?t:n(t,e)}function Ou(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function ku(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:i,y:o}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(o+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Io(t,e,n,r){return n!==void 0?Ou(t,e,Pu(n,google.maps.LatLngBounds,Eu)):ku(t,e,Mu(r,google.maps.LatLng,Su))}function Ru(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oi(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Du(t,e,n,r,i){class o extends google.maps.OverlayView{constructor(c,d,u,h){super(),this.container=c,this.pane=d,this.position=u,this.bounds=h}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d==null||d.appendChild(this.container)}draw(){var c=this.getProjection(),d=Au({},this.container?To(this.container,i):{x:0,y:0}),u=Io(c,d,this.bounds,this.position);for(var[h,f]of Object.entries(u))this.container.style[h]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new o(t,e,n,r)}function ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ai(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function li(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function ci(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function Iu(t){var{position:e,bounds:n,mapPaneName:r,zIndex:i,onLoad:o,onUnmount:a,getPixelPositionOffset:c,children:d}=t,u=l.useContext(Y),h=l.useMemo(()=>{var v=document.createElement("div");return v.style.position="absolute",v},[]),f=l.useMemo(()=>Du(h,r,e,n,c),[h,r,e,n]);return l.useEffect(()=>(o==null||o(f),f==null||f.setMap(u),()=>{a==null||a(f),f==null||f.setMap(null)}),[u,f]),l.useEffect(()=>{h.style.zIndex="".concat(i)},[i,h]),nt.createPortal(d,h)}l.memo(Iu);class ht extends l.PureComponent{constructor(e){super(e),E(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),E(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();xe(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),E(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),E(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=Tu({x:0,y:0},this.containerRef.current?To(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=Io(r,i,this.props.bounds,this.props.position);if(!Ru(o,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,c,d,u;this.setState({containerStyle:{top:(a=o.top)!==null&&a!==void 0?a:0,left:(c=o.left)!==null&&c!==void 0?c:0,width:(d=o.width)!==null&&d!==void 0?d:0,height:(u=o.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),E(this,"draw",()=>{this.onPositionElement()}),E(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=l.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=li(e.position),r=li(this.props.position),i=ci(e.bounds),o=ci(this.props.bounds);(n!==r||i!==o)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?nt.createPortal(s.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:l.Children.only(this.props.children)}),e):null}}E(ht,"FLOAT_PANE","floatPane");E(ht,"MAP_PANE","mapPane");E(ht,"MARKER_LAYER","markerLayer");E(ht,"OVERLAY_LAYER","overlayLayer");E(ht,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");E(ht,"contextType",Y);function _u(){}function di(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?di(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hi={onDblClick:"dblclick",onClick:"click"},pi={opacity(t,e){t.setOpacity(e)}};function Bu(t){var{url:e,bounds:n,options:r,visible:i}=t,o=l.useContext(Y),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),c=l.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return l.useEffect(()=>{c!==null&&c.setMap(o)},[o]),l.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(o))},[c,e]),l.useEffect(()=>{typeof i<"u"&&c!==null&&c.setOpacity(i?1:0)},[c,i]),l.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&c!==null&&(c.set("bounds",d),c.setMap(o))},[c,n]),null}l.memo(Bu);class _o extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{groundOverlay:null}),E(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){xe(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ui(ui({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:pi,eventMap:hi,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:pi,eventMap:hi,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}E(_o,"defaultProps",{onLoad:_u});E(_o,"contextType",Y);function fi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fi(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gi={},mi={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function zu(t){var{data:e,onLoad:n,onUnmount:r,options:i}=t,o=l.useContext(Y),[a,c]=l.useState(null);return l.useEffect(()=>{google.maps.visualization||xe(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),l.useEffect(()=>{xe(!!e,"data property is required in HeatmapLayer %s",e)},[e]),l.useEffect(()=>{a!==null&&a.setMap(o)},[o]),l.useEffect(()=>{i&&a!==null&&a.setOptions(i)},[a,i]),l.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(cn(cn({},i),{},{data:e,map:o}));return c(d),n&&n(d),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}l.memo(zu);class Uu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{heatmapLayer:null}),E(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){xe(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),xe(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(cn(cn({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=te({updaterMap:mi,eventMap:gi,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ne(this.registeredEvents),this.registeredEvents=te({updaterMap:mi,eventMap:gi,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ne(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}E(Uu,"contextType",Y);var vi={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},xi={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class Nu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{streetViewPanorama:null}),E(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=te({updaterMap:xi,eventMap:vi,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:xi,eventMap:vi,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ne(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}E(Nu,"contextType",Y);class Fu extends l.PureComponent{constructor(){super(...arguments),E(this,"state",{streetViewService:null}),E(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}E(Fu,"contextType",Y);var yi={onDirectionsChanged:"directions_changed"},bi={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class Bo extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"state",{directionsRenderer:null}),E(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=te({updaterMap:bi,eventMap:yi,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:bi,eventMap:yi,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ne(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}E(Bo,"contextType",Y);var ji={onPlacesChanged:"places_changed"},Li={bounds(t,e){t.setBounds(e)}};class Wu extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"containerElement",l.createRef()),E(this,"state",{searchBox:null}),E(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(xe(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=te({updaterMap:Li,eventMap:ji,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Li,eventMap:ji,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ne(this.registeredEvents))}render(){return s.jsx("div",{ref:this.containerElement,children:l.Children.only(this.props.children)})}}E(Wu,"contextType",Y);var Ci={onPlaceChanged:"place_changed"},wi={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class zo extends l.PureComponent{constructor(){super(...arguments),E(this,"registeredEvents",[]),E(this,"containerElement",l.createRef()),E(this,"state",{autocomplete:null}),E(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;xe(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=te({updaterMap:wi,eventMap:Ci,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){ne(this.registeredEvents),this.registeredEvents=te({updaterMap:wi,eventMap:Ci,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ne(this.registeredEvents)}render(){return s.jsx("div",{ref:this.containerElement,className:this.props.className,children:l.Children.only(this.props.children)})}}E(zo,"defaultProps",{className:""});E(zo,"contextType",Y);const $u=["places"],Si=({label:t,placeholder:e,value:n,onChange:r,onPlaceSelect:i,icon:o})=>{const[a,c]=l.useState([]),[d,u]=l.useState(!1),h=l.useRef(null),f=l.useRef(null),v=p=>{const m=p.target.value;r(m),m.length>2&&window.google?(h.current||(h.current=new window.google.maps.places.AutocompleteService),h.current.getPlacePredictions({input:m,componentRestrictions:{country:"br"},types:["address"]},(g,w)=>{w===window.google.maps.places.PlacesServiceStatus.OK&&(c(g||[]),u(!0))})):(c([]),u(!1))},x=p=>{if(r(p.description),u(!1),i&&window.google){if(!f.current){const m=new window.google.maps.Map(document.createElement("div"));f.current=new window.google.maps.places.PlacesService(m)}f.current.getDetails({placeId:p.place_id},(m,g)=>{g===window.google.maps.places.PlacesServiceStatus.OK&&i({address:p.description,lat:m.geometry.location.lat(),lng:m.geometry.location.lng(),placeId:p.place_id})})}};return s.jsx(hr,{googleMapsApiKey:"your_production_google_maps_key",libraries:$u,children:s.jsxs(S,{position:"relative",children:[s.jsxs(S,{display:"flex",alignItems:"center",gap:1,children:[o,s.jsx(Le,{fullWidth:!0,label:t,placeholder:e,value:n,onChange:v,onFocus:()=>n.length>2&&u(!0),onBlur:()=>setTimeout(()=>u(!1),200)})]}),d&&a.length>0&&s.jsx(at,{sx:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,maxHeight:200,overflow:"auto"},children:s.jsx(Xn,{dense:!0,children:a.map(p=>s.jsx(Qn,{button:!0,onClick:()=>x(p),children:s.jsx(er,{primary:p.structured_formatting.main_text,secondary:p.structured_formatting.secondary_text})},p.place_id))})})]})})},Vu=["places"],Hu=({pickup:t,destination:e,onPickupChange:n,onDestinationChange:r,showDirections:i=!1})=>{const[o,a]=l.useState(null),[c,d]=l.useState(null),u={width:"100%",height:"300px"},h={lat:-22.9068,lng:-43.1729},f=l.useCallback(x=>{a(x)},[]),v=l.useCallback(()=>{a(null)},[]);return l.useEffect(()=>{t&&e&&i&&window.google&&new window.google.maps.DirectionsService().route({origin:t,destination:e,travelMode:window.google.maps.TravelMode.DRIVING},(p,m)=>{m===window.google.maps.DirectionsStatus.OK&&d(p)})},[t,e,i]),s.jsx(hr,{googleMapsApiKey:"your_production_google_maps_key",libraries:Vu,loadingElement:s.jsx(S,{display:"flex",justifyContent:"center",p:2,children:s.jsx(Oe,{})}),children:s.jsxs(fd,{mapContainerStyle:u,center:h,zoom:12,onLoad:f,onUnmount:v,children:[t&&s.jsx(qn,{position:t,icon:{url:"https://maps.google.com/mapfiles/ms/icons/green-dot.png"}}),e&&s.jsx(qn,{position:e,icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}}),c&&i&&s.jsx(Bo,{directions:c})]})})},Uo=l.createContext(),Ln=()=>{const t=l.useContext(Uo);if(!t)throw new Error("useRide deve ser usado dentro de RideProvider");return t},Gu=({children:t})=>{const[e,n]=l.useState("idle"),[r,i]=l.useState(null),o=[{id:1,name:"Carlos Silva",rating:4.8,car:"Honda Civic Prata",plate:"ABC-1234",photo:"👨‍💼",eta:"3 min"},{id:2,name:"Ana Santos",rating:4.9,car:"Toyota Corolla Branco",plate:"XYZ-5678",photo:"👩‍💼",eta:"5 min"}],u={rideStatus:e,currentRide:r,requestRide:h=>{n("requesting");const f={id:Date.now(),origin:h.origin||"Origem selecionada",destination:h.destination||"Destino selecionado",serviceType:h.serviceType||"STANDARD_RIDE",price:Math.floor(Math.random()*20)+15,driver:null,requestTime:new Date,estimatedDuration:"15-20 min"};i(f),setTimeout(()=>{const v=o[Math.floor(Math.random()*o.length)];i(x=>({...x,driver:v})),n("driver_assigned"),setTimeout(()=>{n("on_trip"),setTimeout(()=>{n("completed")},1e4)},5e3)},3e3)},rateRide:(h,f)=>{i(v=>({...v,rating:h,comment:f,completedAt:new Date})),n("rated"),setTimeout(()=>{n("idle"),i(null)},3e3)},cancelRide:()=>{n("idle"),i(null)}};return s.jsx(Uo.Provider,{value:u,children:t})},dn=l.forwardRef(({children:t,delay:e=0,...n},r)=>s.jsx(Qo,{in:!0,timeout:{enter:600},style:{transitionDelay:`${e}ms`},...n,ref:r,children:s.jsx(S,{children:t})}));l.forwardRef(({children:t,direction:e="up",...n},r)=>s.jsx(ea,{direction:e,in:!0,timeout:400,...n,ref:r,children:s.jsx(S,{children:t})}));l.forwardRef(({children:t,delay:e=0,...n},r)=>s.jsx(Pi,{in:!0,timeout:500,style:{transitionDelay:`${e}ms`},...n,ref:r,children:s.jsx(S,{children:t})}));const _e={transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.15)"},"&:active":{transform:"translateY(0)",transition:"all 0.1s cubic-bezier(0.4, 0, 0.2, 1)"}},Yn=({show:t,children:e})=>s.jsx(Pi,{in:t,timeout:600,children:s.jsx(S,{sx:{display:"flex",alignItems:"center",justifyContent:"center","& .success-icon":{animation:t?"successPulse 0.6s ease-out":"none"},"@keyframes successPulse":{"0%":{transform:"scale(0)",opacity:0},"50%":{transform:"scale(1.2)",opacity:1},"100%":{transform:"scale(1)",opacity:1}}},children:e})}),Zu=()=>s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsxs(S,{sx:{display:"flex",alignItems:"center",mb:2},children:[s.jsx(ye,{variant:"circular",width:24,height:24,sx:{mr:2}}),s.jsxs(S,{sx:{flexGrow:1},children:[s.jsx(ye,{variant:"text",width:"60%",height:28}),s.jsx(ye,{variant:"text",width:"40%",height:20})]}),s.jsx(ye,{variant:"rectangular",width:80,height:32,sx:{borderRadius:2}})]}),s.jsx(ye,{variant:"rectangular",width:"100%",height:8,sx:{mb:2,borderRadius:1}}),s.jsxs(S,{sx:{mb:2},children:[s.jsx(ye,{variant:"text",width:"80%"}),s.jsx(ye,{variant:"text",width:"70%"})]}),s.jsx(S,{sx:{p:2,bgcolor:"grey.50",borderRadius:2,mb:2},children:s.jsxs(S,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(ye,{variant:"circular",width:40,height:40,sx:{mr:2}}),s.jsxs(S,{sx:{flexGrow:1},children:[s.jsx(ye,{variant:"text",width:"50%"}),s.jsx(ye,{variant:"text",width:"70%"})]})]})}),s.jsxs(S,{sx:{display:"flex",gap:2},children:[s.jsx(ye,{variant:"rectangular",width:"30%",height:40,sx:{borderRadius:1}}),s.jsx(ye,{variant:"rectangular",width:"70%",height:40,sx:{borderRadius:1}})]})]})}),qu=()=>s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{sx:{textAlign:"center",py:4},children:[s.jsx(ye,{variant:"circular",width:64,height:64,sx:{mx:"auto",mb:2}}),s.jsx(ye,{variant:"text",width:"50%",height:32,sx:{mx:"auto",mb:1}}),s.jsx(ye,{variant:"text",width:"70%",height:20,sx:{mx:"auto",mb:3}}),s.jsx(ye,{variant:"rectangular",width:"60%",height:40,sx:{mx:"auto",borderRadius:2}})]})}),Ku=t=>({started:"in_progress",cancelled_by_admin:"cancelled",cancelled_by_user:"cancelled",cancelled_by_driver:"cancelled"})[t]||t,No=({showActions:t=!0})=>{const{rideStatus:e,currentRide:n,cancelRide:r}=Ln(),i=Ku(e),a=(()=>{var c;switch(i){case"requesting":return{title:"Buscando motorista KAVIAR...",subtitle:"Encontrando o melhor motorista para você",color:"primary",showProgress:!0,showSkeleton:!0};case"accepted":case"driver_assigned":return{title:"Motorista encontrado!",subtitle:`${(c=n==null?void 0:n.driver)==null?void 0:c.name} está a caminho`,color:"success",showProgress:!1};case"started":case"in_progress":case"on_trip":return{title:"Viagem em andamento",subtitle:"Tenha uma excelente viagem!",color:"info",showProgress:!0};case"completed":return{title:"Viagem finalizada com sucesso",subtitle:"Obrigado por viajar com a KAVIAR",color:"success",showProgress:!1,showSuccess:!0};default:return null}})();return!a||!n?null:a.showSkeleton?s.jsx(Zu,{}):s.jsx(dn,{children:s.jsx(G,{sx:{mb:3,background:a.color==="success"?"linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%)":"background.paper",border:a.showSuccess?"2px solid":"1px solid",borderColor:a.showSuccess?"success.main":"divider",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:s.jsxs(Z,{children:[s.jsxs(S,{sx:{display:"flex",alignItems:"center",mb:2},children:[a.showSuccess?s.jsx(Yn,{show:!0,children:s.jsx(rt,{className:"success-icon",sx:{mr:2,color:"success.main",fontSize:28}})}):s.jsx(ke,{sx:{mr:2,color:`${a.color}.main`}}),s.jsxs(S,{sx:{flexGrow:1},children:[s.jsx(y,{variant:"h6",color:`${a.color}.main`,sx:{fontWeight:600},children:a.title}),s.jsx(y,{variant:"body2",color:"text.secondary",children:a.subtitle})]}),s.jsx(fe,{label:`R$ ${n.price}`,color:a.color,variant:"outlined",sx:{fontWeight:600,fontSize:"0.875rem"}})]}),a.showProgress&&s.jsx(Oi,{sx:{mb:2,borderRadius:2,height:6,backgroundColor:"rgba(0,0,0,0.08)","& .MuiLinearProgress-bar":{borderRadius:2}},color:a.color}),s.jsxs(S,{sx:{mb:2},children:[s.jsxs(y,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:[s.jsx("strong",{children:"📍 Origem:"})," ",n.origin]}),s.jsxs(y,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[s.jsx("strong",{children:"🎯 Destino:"})," ",n.destination]}),n.serviceType==="TOUR_GUIDE"&&s.jsx(fe,{label:"🧭 Guia Turístico",size:"small",color:"info",sx:{mt:1,fontWeight:500}})]}),n.driver&&s.jsxs(S,{sx:{display:"flex",alignItems:"center",p:2.5,bgcolor:"rgba(255,255,255,0.8)",borderRadius:3,border:"1px solid",borderColor:"divider",mb:2,transition:"all 0.2s ease"},children:[s.jsx(Lt,{sx:{mr:2,bgcolor:"primary.main",width:48,height:48,fontSize:"1.5rem"},children:n.driver.photo}),s.jsxs(S,{sx:{flexGrow:1},children:[s.jsx(y,{variant:"subtitle1",fontWeight:600,sx:{mb:.5},children:n.driver.name}),s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[s.jsx(Ct,{sx:{fontSize:16,color:"warning.main"}}),s.jsx(y,{variant:"body2",fontWeight:500,children:n.driver.rating}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:["• ",n.driver.car]})]}),s.jsxs(y,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:[n.driver.plate," • Chega em ",n.driver.eta]})]}),t&&e!=="completed"&&s.jsxs(S,{sx:{display:"flex",gap:1},children:[s.jsx(N,{size:"small",startIcon:s.jsx(ki,{}),variant:"outlined",sx:{..._e,minWidth:"auto",px:1.5},children:"Ligar"}),s.jsx(N,{size:"small",startIcon:s.jsx(Ri,{}),variant:"outlined",sx:{..._e,minWidth:"auto",px:1.5},children:"Chat"})]})]}),t&&e==="requesting"&&s.jsx(N,{variant:"outlined",color:"error",startIcon:s.jsx(un,{}),onClick:r,fullWidth:!0,sx:{..._e,py:1.5,fontWeight:600},children:"Cancelar Solicitação"}),t&&e==="completed"&&s.jsx(N,{variant:"contained",color:"primary",href:"/passageiro/rating",fullWidth:!0,sx:{..._e,mt:1,py:1.5,fontWeight:600,fontSize:"1rem"},children:"Avaliar sua Experiência"})]})})})},Ju=()=>{const[t,e]=l.useState(""),[n,r]=l.useState(""),[i,o]=l.useState(null),[a,c]=l.useState(null),[d,u]=l.useState("STANDARD_RIDE"),[h,f]=l.useState(""),v=Ae(),{rideStatus:x,requestRide:p}=Ln(),m=[{value:"STANDARD_RIDE",label:"Corrida Normal",description:"Transporte padrão",icon:"🚗"},{value:"TOUR_GUIDE",label:"Guia Turístico",description:"Motorista como guia local",icon:"🧭"},{value:"ELDERLY_ASSISTANCE",label:"Care / Acompanhamento",description:"Atendimento especializado",icon:"🧓"}],g=()=>{if(!t||!n){f("Preencha origem e destino");return}f(""),p({origin:t,destination:n,serviceType:d,pickupCoords:i,destinationCoords:a}),setTimeout(()=>{v("/passageiro/status")},1e3)},w=()=>{alert("Alerta de emergência enviado! Ajuda está a caminho.")},C=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(b=>{const j={lat:b.coords.latitude,lng:b.coords.longitude};o(j),e(`${j.lat}, ${j.lng}`)},()=>{f("Erro ao obter localização atual")})},k=m.find(b=>b.value===d);return s.jsxs(je,{title:"Passageiro - Solicitar Corrida",children:[s.jsx(y,{variant:"h4",gutterBottom:!0,sx:{fontWeight:600},children:"Solicitar Corrida"}),h&&s.jsx(Se,{severity:"error",sx:{mb:3},children:h}),x!=="idle"&&s.jsx(No,{}),s.jsx(dn,{children:s.jsx(G,{sx:{mb:3,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":x==="idle"?{boxShadow:"0 8px 25px rgba(0,0,0,0.12)"}:{}},children:s.jsxs(Z,{sx:{p:3},children:[s.jsxs(S,{sx:{mb:3},children:[s.jsxs(S,{sx:{display:"flex",alignItems:"center",mb:2},children:[s.jsx(y,{variant:"h6",sx:{flexGrow:1,fontWeight:600},children:"📍 Onde você está?"}),s.jsx(N,{variant:"outlined",size:"small",onClick:C,disabled:x!=="idle",sx:{..._e,minWidth:"auto",px:2},children:"Localização Atual"})]}),s.jsx(Si,{label:"Endereço de origem",placeholder:"Digite seu endereço atual",value:t,onChange:e,onPlaceSelect:b=>{e(b.address),o({lat:b.lat,lng:b.lng})},icon:s.jsx(ta,{sx:{color:"primary.main"}}),disabled:x!=="idle"})]}),s.jsxs(S,{sx:{mb:3},children:[s.jsx(y,{variant:"h6",sx:{mb:2,fontWeight:600},children:"🎯 Para onde vamos?"}),s.jsx(Si,{label:"Endereço de destino",placeholder:"Digite para onde você quer ir",value:n,onChange:r,onPlaceSelect:b=>{r(b.address),c({lat:b.lat,lng:b.lng})},icon:s.jsx(Ai,{sx:{color:"error.main"}}),disabled:x!=="idle"})]}),(i||a)&&s.jsx(S,{sx:{mb:3},children:s.jsx(Hu,{pickup:i,destination:a,showDirections:!!(i&&a)})}),s.jsx(Un,{sx:{my:3}}),s.jsxs(S,{sx:{mb:3},children:[s.jsx(y,{variant:"h6",sx:{mb:2,fontWeight:600},children:"✨ Escolha seu serviço"}),s.jsxs(He,{fullWidth:!0,disabled:x!=="idle",children:[s.jsx(Ge,{children:"Tipo de Serviço"}),s.jsx(Ze,{value:d,label:"Tipo de Serviço",onChange:b=>u(b.target.value),children:m.map(b=>s.jsx(ie,{value:b.value,children:s.jsxs(S,{children:[s.jsxs(y,{variant:"body1",sx:{fontWeight:500},children:[b.icon," ",b.label]}),s.jsx(y,{variant:"caption",color:"text.secondary",children:b.description})]})},b.value))})]})]}),s.jsx(S,{sx:{mb:3,textAlign:"center"},children:s.jsx(fe,{label:`${k==null?void 0:k.icon} ${k==null?void 0:k.label}`,color:d==="STANDARD_RIDE"?"default":"primary",size:"large",sx:{fontWeight:600,fontSize:"1rem",py:1}})}),s.jsx(N,{variant:"contained",fullWidth:!0,size:"large",startIcon:x==="requesting"?null:s.jsx(ke,{}),onClick:g,disabled:x!=="idle"||!t||!n,sx:{..._e,mb:2,py:2,fontSize:"1.1rem",fontWeight:600,background:x==="idle"?"linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%)":void 0},children:x==="requesting"?s.jsxs(s.Fragment,{children:[s.jsx(Oe,{size:24,sx:{mr:1,color:"white"}}),"Buscando motorista KAVIAR..."]}):"Solicitar Corrida KAVIAR"})]})})}),s.jsx(dn,{delay:200,children:s.jsx(G,{children:s.jsxs(Z,{children:[s.jsx(N,{variant:"contained",color:"error",fullWidth:!0,size:"large",startIcon:s.jsx(Di,{}),onClick:w,sx:{py:2,fontWeight:600,background:"linear-gradient(135deg, #d32f2f 0%, #c62828 100%)"},children:"BOTÃO DE EMERGÊNCIA"}),s.jsx(y,{variant:"caption",display:"block",textAlign:"center",mt:1,color:"text.secondary",children:"Use apenas em situações de emergência real"})]})})})]})},Yu=()=>{var r;const{rideStatus:t,currentRide:e}=Ln(),n=Ae();return l.useEffect(()=>{t==="idle"&&n("/passageiro/home")},[t,n]),t==="idle"||!e?s.jsx(je,{title:"Status da Corrida",children:s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:4},children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Nenhuma corrida ativa"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Você não possui corridas em andamento no momento."}),s.jsx(N,{variant:"contained",href:"/passageiro/home",startIcon:s.jsx(Ve,{}),children:"Solicitar Nova Corrida"})]})})}):s.jsxs(je,{title:"Status da Corrida",children:[s.jsx(y,{variant:"h4",gutterBottom:!0,children:"Acompanhar Corrida"}),s.jsx(No,{}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Detalhes da Viagem"}),s.jsxs(S,{sx:{mb:2},children:[s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"ID da Corrida:"})," #",e.id]}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Solicitada em:"})," ",(r=e.requestTime)==null?void 0:r.toLocaleTimeString()]}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Duração estimada:"})," ",e.estimatedDuration]})]}),t==="completed"&&s.jsx(S,{sx:{textAlign:"center",mt:3},children:s.jsx(N,{variant:"contained",color:"primary",href:"/passageiro/rating",size:"large",children:"Avaliar esta Corrida"})})]})}),s.jsx(N,{variant:"outlined",href:"/passageiro",startIcon:s.jsx(Ve,{}),sx:{mb:2},children:"Voltar ao Dashboard"})]})},Xu=()=>{const[t,e]=l.useState(5),[n,r]=l.useState(""),[i,o]=l.useState(!1),{currentRide:a,rateRide:c,rideStatus:d}=Ln(),u=Ae(),h=()=>{c(t,n),o(!0),setTimeout(()=>{u("/passageiro")},3e3)};return!a||d==="idle"?s.jsx(je,{title:"Avaliar Corrida",children:s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:4},children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Nenhuma corrida para avaliar"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Você não possui corridas finalizadas para avaliar."}),s.jsx(N,{variant:"contained",href:"/passageiro",startIcon:s.jsx(Ve,{}),children:"Voltar ao Dashboard"})]})})}):i||d==="rated"?s.jsx(je,{title:"Avaliação Enviada",children:s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:4},children:[s.jsxs(S,{sx:{mb:3},children:[s.jsx(Ct,{sx:{fontSize:64,color:"warning.main",mb:2}}),s.jsx(y,{variant:"h5",gutterBottom:!0,color:"success.main",children:"Avaliação Enviada!"}),s.jsx(y,{variant:"body1",color:"text.secondary",children:"Obrigado pelo seu feedback. Sua avaliação nos ajuda a melhorar o serviço KAVIAR."})]}),s.jsxs(Se,{severity:"success",sx:{mb:3},children:["Avaliação de ",t," estrelas enviada com sucesso!"]}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Redirecionando para o dashboard..."})]})})}):s.jsxs(je,{title:"Avaliar Corrida",children:[s.jsx(y,{variant:"h4",gutterBottom:!0,children:"Avaliar sua Experiência"}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Resumo da Corrida"}),s.jsxs(S,{sx:{mb:2},children:[s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Origem:"})," ",a.origin]}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Destino:"})," ",a.destination]}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Valor:"})," R$ ",a.price]})]}),a.driver&&s.jsxs(S,{sx:{display:"flex",alignItems:"center",p:2,bgcolor:"background.paper",borderRadius:2,border:"1px solid",borderColor:"divider"},children:[s.jsx(Lt,{sx:{mr:2,bgcolor:"primary.main"},children:a.driver.photo}),s.jsxs(S,{children:[s.jsx(y,{variant:"subtitle1",fontWeight:600,children:a.driver.name}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[a.driver.car," • ",a.driver.plate]})]})]})]})}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Como foi sua experiência?"}),s.jsxs(S,{sx:{textAlign:"center",mb:3},children:[s.jsx(y,{variant:"body1",sx:{mb:2},children:"Avalie o motorista:"}),s.jsx(na,{value:t,onChange:(f,v)=>e(v||1),size:"large",sx:{mb:1}}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[t," de 5 estrelas"]})]}),s.jsx(Le,{fullWidth:!0,multiline:!0,rows:4,label:"Comentário (opcional)",placeholder:"Conte-nos sobre sua experiência com o motorista e a corrida...",value:n,onChange:f=>r(f.target.value),sx:{mb:3}}),s.jsxs(S,{sx:{display:"flex",gap:2},children:[s.jsx(N,{variant:"outlined",startIcon:s.jsx(Ve,{}),onClick:()=>u("/passageiro"),sx:{flex:1},children:"Pular Avaliação"}),s.jsx(N,{variant:"contained",startIcon:s.jsx(ra,{}),onClick:h,sx:{flex:2},children:"Enviar Avaliação"})]})]})})]})};function Qu(){return s.jsxs(pe,{maxWidth:"md",sx:{mt:4},children:[s.jsx(Me,{domain:"passageiro",title:"Área do Passageiro",showBackButton:!0,backUrl:"/"}),s.jsxs(S,{sx:{textAlign:"center",mb:4},children:[s.jsx(jt,{sx:{fontSize:48,color:"success.main",mb:2}}),s.jsx(y,{variant:"body1",color:"text.secondary",children:"Solicite corridas e serviços especializados"})]}),s.jsxs(S,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(3, 1fr)"},gap:3},children:[s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(ke,{sx:{fontSize:40,color:"success.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Solicitar Corrida"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Corridas normais e guia turístico"}),s.jsx(N,{variant:"contained",color:"success",href:"/passageiro/home",children:"Acessar"})]})}),s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(Ti,{sx:{fontSize:40,color:"primary.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Status da Corrida"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Acompanhe sua corrida em tempo real"}),s.jsx(N,{variant:"contained",href:"/passageiro/status",children:"Acessar"})]})}),s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(Ct,{sx:{fontSize:40,color:"warning.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Avaliar Corrida"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Avalie sua experiência"}),s.jsx(N,{variant:"contained",color:"warning",href:"/passageiro/rating",children:"Acessar"})]})})]})]})}function eh(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(Me,{domain:"passageiro",title:"Solicitar Corrida",breadcrumbs:["Solicitar Corrida"],backUrl:"/passageiro"}),s.jsx(Ju,{})]})}function th(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(Me,{domain:"passageiro",title:"Status da Corrida",breadcrumbs:["Status da Corrida"],backUrl:"/passageiro"}),s.jsx(Yu,{})]})}function nh(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(Me,{domain:"passageiro",title:"Avaliar Corrida",breadcrumbs:["Avaliar Corrida"],backUrl:"/passageiro"}),s.jsx(Xu,{})]})}function rh(){return s.jsxs(Mt,{children:[s.jsx(ue,{path:"/",element:s.jsx(Qu,{})}),s.jsx(ue,{path:"/home",element:s.jsx(eh,{})}),s.jsx(ue,{path:"/status",element:s.jsx(th,{})}),s.jsx(ue,{path:"/rating",element:s.jsx(nh,{})})]})}const Fo=l.createContext(),Cn=()=>{const t=l.useContext(Fo);if(!t)throw new Error("useDriver deve ser usado dentro de DriverProvider");return t},sh=({children:t})=>{const[e,n]=l.useState("offline"),[r,i]=l.useState(null),[o,a]=l.useState({lastRide:0,totalToday:125.5,ridesCompleted:8}),c=[{id:Date.now(),passengerName:"Maria Silva",passengerPhoto:"👩‍💼",origin:"Shopping Center",destination:"Aeroporto Internacional",price:28.5,distance:"12.5 km",eta:"18 min",serviceType:"STANDARD_RIDE"},{id:Date.now()+1,passengerName:"João Santos",passengerPhoto:"👨‍💼",origin:"Centro Histórico",destination:"Praia de Copacabana",price:35,distance:"15.2 km",eta:"22 min",serviceType:"TOUR_GUIDE"},{id:Date.now()+2,passengerName:"Ana Costa",passengerPhoto:"👵",origin:"Hospital São Lucas",destination:"Residência",price:18.75,distance:"8.3 km",eta:"12 min",serviceType:"ELDERLY_ASSISTANCE"}],p={driverStatus:e,currentRide:r,driverEarnings:o,goOnline:()=>{n("online");const m=Math.random()*5e3+5e3;setTimeout(()=>{if(e==="online"){const g=c[Math.floor(Math.random()*c.length)];i({...g,receivedAt:new Date}),n("ride_received")}},m)},goOffline:()=>{n("offline"),i(null)},acceptRide:()=>{if(!r)return;n("on_trip");const m=Math.random()*1e4+15e3;setTimeout(()=>{n("completed")},m)},declineRide:()=>{i(null),n("online"),setTimeout(()=>{if(e==="online"){const m=c[Math.floor(Math.random()*c.length)];i({...m,receivedAt:new Date}),n("ride_received")}},8e3)},completeRide:()=>{r&&(a(m=>({lastRide:r.price,totalToday:m.totalToday+r.price,ridesCompleted:m.ridesCompleted+1})),n("completed"))},finishRideAndGoOnline:()=>{i(null),n("online"),setTimeout(()=>{if(e==="online"){const m=c[Math.floor(Math.random()*c.length)];i({...m,receivedAt:new Date}),n("ride_received")}},1e4)}};return s.jsx(Fo.Provider,{value:p,children:t})},Wo=()=>{const{driverStatus:t,currentRide:e,acceptRide:n,declineRide:r,completeRide:i,driverEarnings:o}=Cn(),a=()=>{switch(t){case"offline":return{title:"Você está offline",subtitle:"Ative-se para começar a receber corridas",color:"error",showProgress:!1};case"online":return{title:"Você está online",subtitle:"Aguardando novas solicitações...",color:"success",showProgress:!0,showSkeleton:!0};case"ride_received":return{title:"Nova corrida disponível!",subtitle:"Aceite ou recuse esta solicitação",color:"warning",showProgress:!1};case"on_trip":return{title:"Viagem em andamento",subtitle:"Levando passageiro ao destino com segurança",color:"primary",showProgress:!0};case"completed":return{title:"Viagem finalizada com sucesso!",subtitle:"Parabéns pelo excelente atendimento",color:"success",showProgress:!1,showSuccess:!0};default:return null}},c=u=>{switch(u){case"TOUR_GUIDE":return{label:"🧭 Guia Turístico",color:"info"};case"ELDERLY_ASSISTANCE":return{label:"🧓 Atendimento Care",color:"secondary"};default:return{label:"🚗 Corrida Normal",color:"primary"}}},d=a();return d?d.showSkeleton&&t==="online"?s.jsx(qu,{}):s.jsx(dn,{children:s.jsx(G,{sx:{mb:3,background:d.showSuccess?"linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%)":t==="ride_received"?"linear-gradient(135deg, #fff3e0 0%, #fef7ed 100%)":"background.paper",border:d.showSuccess?"2px solid":"1px solid",borderColor:d.showSuccess?"success.main":t==="ride_received"?"warning.main":"divider",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:s.jsxs(Z,{children:[s.jsxs(S,{sx:{display:"flex",alignItems:"center",mb:2},children:[d.showSuccess?s.jsx(Yn,{show:!0,children:s.jsx(rt,{className:"success-icon",sx:{mr:2,color:"success.main",fontSize:28}})}):s.jsx(ke,{sx:{mr:2,color:`${d.color}.main`}}),s.jsxs(S,{sx:{flexGrow:1},children:[s.jsx(y,{variant:"h6",color:`${d.color}.main`,sx:{fontWeight:600},children:d.title}),s.jsx(y,{variant:"body2",color:"text.secondary",children:d.subtitle})]}),e&&s.jsx(fe,{label:`R$ ${e.price}`,color:d.color,variant:"filled",sx:{fontWeight:600,fontSize:"0.875rem"}})]}),d.showProgress&&s.jsx(Oi,{sx:{mb:2,borderRadius:2,height:6,backgroundColor:"rgba(0,0,0,0.08)","& .MuiLinearProgress-bar":{borderRadius:2}},color:d.color}),t==="ride_received"&&e&&s.jsxs(S,{sx:{mb:3},children:[s.jsx(Se,{severity:"warning",sx:{mb:2,"& .MuiAlert-icon":{fontSize:"1.2rem"}},children:s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Ii,{sx:{fontSize:16}}),s.jsx(y,{variant:"body2",fontWeight:500,children:"Tempo para responder: 30 segundos"})]})}),s.jsxs(S,{sx:{display:"flex",alignItems:"center",p:2.5,bgcolor:"rgba(255,255,255,0.9)",borderRadius:3,border:"2px solid",borderColor:"warning.light",mb:2,transition:"all 0.2s ease"},children:[s.jsx(Lt,{sx:{mr:2,bgcolor:"primary.main",width:48,height:48,fontSize:"1.5rem"},children:e.passengerPhoto}),s.jsxs(S,{sx:{flexGrow:1},children:[s.jsx(y,{variant:"subtitle1",fontWeight:600,sx:{mb:.5},children:e.passengerName}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Passageiro • Solicitou agora"})]}),s.jsxs(S,{sx:{textAlign:"right"},children:[s.jsxs(y,{variant:"h6",color:"success.main",fontWeight:700,children:["R$ ",e.price]}),s.jsxs(y,{variant:"caption",color:"text.secondary",fontWeight:500,children:[e.distance," • ",e.eta]})]})]}),s.jsxs(S,{sx:{mb:3},children:[s.jsxs(y,{variant:"body2",color:"text.secondary",sx:{mb:1,fontWeight:500},children:[s.jsx("strong",{children:"📍 Origem:"})," ",e.origin]}),s.jsxs(y,{variant:"body2",color:"text.secondary",sx:{mb:2,fontWeight:500},children:[s.jsx("strong",{children:"🎯 Destino:"})," ",e.destination]}),s.jsx(S,{sx:{mt:1},children:(()=>{const u=c(e.serviceType);return s.jsx(fe,{label:u.label,size:"small",color:u.color,sx:{fontWeight:500}})})()})]}),s.jsxs(S,{sx:{display:"flex",gap:2},children:[s.jsx(N,{variant:"outlined",color:"error",startIcon:s.jsx(un,{}),onClick:r,sx:{..._e,flex:1,py:1.5,fontWeight:600},children:"Recusar"}),s.jsx(N,{variant:"contained",color:"success",startIcon:s.jsx(rt,{}),onClick:n,sx:{..._e,flex:2,py:1.5,fontWeight:600,fontSize:"1rem"},children:"Aceitar Corrida"})]})]}),t==="on_trip"&&e&&s.jsxs(S,{sx:{mb:2},children:[s.jsxs(S,{sx:{display:"flex",alignItems:"center",p:2.5,background:"linear-gradient(135deg, #1976d2 0%, #1565c0 100%)",borderRadius:3,mb:2,color:"white",boxShadow:"0 4px 20px rgba(25, 118, 210, 0.3)"},children:[s.jsx(Lt,{sx:{mr:2,bgcolor:"rgba(255,255,255,0.2)",width:48,height:48,fontSize:"1.5rem"},children:e.passengerPhoto}),s.jsxs(S,{sx:{flexGrow:1},children:[s.jsx(y,{variant:"subtitle1",fontWeight:600,sx:{mb:.5},children:e.passengerName}),s.jsxs(y,{variant:"body2",sx:{opacity:.9},children:["Destino: ",e.destination]})]}),s.jsxs(S,{sx:{display:"flex",gap:1},children:[s.jsx(N,{size:"small",startIcon:s.jsx(ki,{}),variant:"outlined",sx:{color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{borderColor:"white",backgroundColor:"rgba(255,255,255,0.1)"}},children:"Ligar"}),s.jsx(N,{size:"small",startIcon:s.jsx(Ri,{}),variant:"outlined",sx:{color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{borderColor:"white",backgroundColor:"rgba(255,255,255,0.1)"}},children:"Chat"})]})]}),s.jsx(N,{variant:"contained",color:"success",startIcon:s.jsx(sa,{}),onClick:i,fullWidth:!0,size:"large",sx:{..._e,py:1.5,fontWeight:600,fontSize:"1rem"},children:"Finalizar Viagem"})]}),t==="completed"&&e&&s.jsxs(S,{sx:{textAlign:"center",mb:2},children:[s.jsx(Yn,{show:!0,children:s.jsx(rt,{className:"success-icon",sx:{fontSize:64,color:"success.main",mb:2}})}),s.jsx(y,{variant:"h6",gutterBottom:!0,fontWeight:600,children:"Viagem finalizada com sucesso!"}),s.jsxs(S,{sx:{p:3,background:"linear-gradient(135deg, #4caf50 0%, #388e3c 100%)",borderRadius:3,mb:2,color:"white",boxShadow:"0 8px 25px rgba(76, 175, 80, 0.3)"},children:[s.jsxs(y,{variant:"h4",fontWeight:700,sx:{mb:.5},children:["+ R$ ",o.lastRide]}),s.jsx(y,{variant:"body1",sx:{opacity:.9},children:"Ganho desta viagem"})]}),s.jsxs(y,{variant:"body2",color:"text.secondary",sx:{mb:2,fontWeight:500},children:["Total hoje: R$ ",o.totalToday.toFixed(2)," • ",o.ridesCompleted," viagens"]})]})]})})}):null},ih=()=>{const{driverStatus:t,driverEarnings:e,goOnline:n,goOffline:r,finishRideAndGoOnline:i}=Cn(),[o,a]=l.useState(""),c=()=>{a("");try{t==="offline"?n():t==="online"&&r()}catch{a("Erro ao alterar disponibilidade")}},d=()=>{alert("Alerta de emergência enviado! Ajuda está a caminho.")},h=(()=>{switch(t){case"offline":return{status:"OFFLINE",color:"error",message:"Você não está recebendo corridas",canToggle:!0};case"online":return{status:"ONLINE",color:"success",message:"Aguardando solicitações de corrida",canToggle:!0};case"ride_received":return{status:"CORRIDA RECEBIDA",color:"warning",message:"Responda à solicitação abaixo",canToggle:!1};case"on_trip":return{status:"EM VIAGEM",color:"primary",message:"Corrida em andamento",canToggle:!1};case"completed":return{status:"CORRIDA FINALIZADA",color:"success",message:"Corrida concluída com sucesso",canToggle:!1};default:return{status:"DESCONHECIDO",color:"default",message:"Status não identificado",canToggle:!1}}})();return s.jsxs(je,{title:"Motorista - Home",children:[s.jsx(y,{variant:"h4",gutterBottom:!0,children:"Olá, Motorista KAVIAR!"}),o&&s.jsx(Se,{severity:"error",sx:{mb:3},children:o}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{sx:{textAlign:"center",py:4},children:[s.jsx(ke,{sx:{fontSize:64,color:`${h.color}.main`,mb:2}}),s.jsx(y,{variant:"h5",gutterBottom:!0,color:`${h.color}.main`,children:h.status}),s.jsx(y,{variant:"body1",color:"text.secondary",sx:{mb:3},children:h.message}),h.canToggle&&s.jsx(_i,{control:s.jsx(yt,{checked:t==="online",onChange:c,size:"large",color:t==="online"?"success":"primary"}),label:s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(ia,{}),t==="online"?"Ficar Offline":"Ficar Online"]}),sx:{mt:2}}),t==="completed"&&s.jsx(N,{variant:"contained",color:"success",size:"large",onClick:i,sx:{mt:2},children:"Voltar para Online"})]})}),s.jsx(Wo,{}),s.jsxs(X,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(X,{item:!0,xs:6,children:s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center"},children:[s.jsx(oa,{sx:{fontSize:40,color:"primary.main",mb:1}}),s.jsxs(y,{variant:"h6",children:["R$ ",e.totalToday.toFixed(2)]}),s.jsx(y,{variant:"body2",color:"text.secondary",children:"Ganhos hoje"})]})})}),s.jsx(X,{item:!0,xs:6,children:s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center"},children:[s.jsx(aa,{sx:{fontSize:40,color:"primary.main",mb:1}}),s.jsx(y,{variant:"h6",children:e.ridesCompleted}),s.jsx(y,{variant:"body2",color:"text.secondary",children:"Corridas hoje"})]})})})]}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Serviços Habilitados"}),s.jsxs(S,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[s.jsx(fe,{label:"🚗 Corrida Normal",color:"primary"}),s.jsx(fe,{label:"🧭 Guia Turístico",color:"info"}),s.jsx(fe,{label:"🧓 Care",color:"secondary"})]})]})}),s.jsx(G,{children:s.jsxs(Z,{children:[s.jsx(N,{variant:"contained",color:"error",fullWidth:!0,size:"large",startIcon:s.jsx(Di,{}),onClick:d,sx:{py:2},children:"BOTÃO DE PÂNICO"}),s.jsx(y,{variant:"caption",display:"block",textAlign:"center",mt:1,children:"Use apenas em emergências reais"})]})})]})},oh=()=>{var r;const{driverStatus:t,currentRide:e}=Cn(),n=Ae();return l.useEffect(()=>{t!=="ride_received"&&t!=="on_trip"&&n("/motorista/home")},[t,n]),t==="offline"||t==="online"?s.jsx(je,{title:"Corrida Recebida",children:s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:4},children:[s.jsx(ke,{sx:{fontSize:64,color:"text.secondary",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Nenhuma corrida recebida"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Você precisa estar online para receber solicitações de corrida."}),s.jsx(N,{variant:"contained",href:"/motorista/home",startIcon:s.jsx(Ve,{}),children:"Voltar ao Dashboard"})]})})}):s.jsxs(je,{title:"Corrida Recebida",children:[s.jsx(y,{variant:"h4",gutterBottom:!0,children:t==="ride_received"?"Nova Corrida!":"Corrida em Andamento"}),t==="ride_received"&&s.jsx(Se,{severity:"warning",sx:{mb:3},children:s.jsxs(y,{variant:"body2",children:[s.jsx("strong",{children:"Atenção:"})," Você tem tempo limitado para responder a esta solicitação."]})}),s.jsx(Wo,{}),e&&s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Detalhes da Solicitação"}),s.jsxs(S,{sx:{mb:2},children:[s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"ID da Corrida:"})," #",e.id]}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Recebida em:"})," ",(r=e.receivedAt)==null?void 0:r.toLocaleTimeString()]}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Distância:"})," ",e.distance]}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:[s.jsx("strong",{children:"Tempo estimado:"})," ",e.eta]})]}),t==="on_trip"&&s.jsx(Se,{severity:"info",sx:{mt:2},children:s.jsx(y,{variant:"body2",children:"Corrida em andamento. Mantenha contato com o passageiro e dirija com segurança."})})]})}),s.jsx(N,{variant:"outlined",href:"/motorista",startIcon:s.jsx(Ve,{}),sx:{mb:2},children:"Voltar ao Dashboard"})]})},ah=()=>{const{driverEarnings:t}=Cn(),e=[{id:1,time:"14:30",passenger:"Maria Silva",amount:28.5,type:"STANDARD_RIDE",rating:5},{id:2,time:"13:15",passenger:"João Santos",amount:35,type:"TOUR_GUIDE",rating:5},{id:3,time:"12:00",passenger:"Ana Costa",amount:18.75,type:"ELDERLY_ASSISTANCE",rating:4},{id:4,time:"11:20",passenger:"Pedro Lima",amount:22.3,type:"STANDARD_RIDE",rating:5},{id:5,time:"10:45",passenger:"Carla Souza",amount:31.2,type:"TOUR_GUIDE",rating:5}],n=i=>{switch(i){case"TOUR_GUIDE":return{label:"🧭 Guia Turístico",color:"info"};case"ELDERLY_ASSISTANCE":return{label:"🧓 Care",color:"secondary"};default:return{label:"🚗 Normal",color:"primary"}}},r=e.reduce((i,o)=>i+o.rating,0)/e.length;return s.jsxs(je,{title:"Ganhos do Motorista",children:[s.jsx(y,{variant:"h4",gutterBottom:!0,children:"Seus Ganhos"}),s.jsxs(X,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(X,{item:!0,xs:6,children:s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center"},children:[s.jsx(it,{sx:{fontSize:40,color:"success.main",mb:1}}),s.jsxs(y,{variant:"h5",color:"success.main",children:["R$ ",t.totalToday.toFixed(2)]}),s.jsx(y,{variant:"body2",color:"text.secondary",children:"Total hoje"})]})})}),s.jsx(X,{item:!0,xs:6,children:s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center"},children:[s.jsx(ke,{sx:{fontSize:40,color:"primary.main",mb:1}}),s.jsx(y,{variant:"h5",color:"primary.main",children:t.ridesCompleted}),s.jsx(y,{variant:"body2",color:"text.secondary",children:"Corridas hoje"})]})})})]}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Estatísticas do Dia"}),s.jsxs(X,{container:!0,spacing:2,children:[s.jsx(X,{item:!0,xs:4,children:s.jsxs(S,{sx:{textAlign:"center"},children:[s.jsx(Bi,{sx:{fontSize:32,color:"success.main",mb:1}}),s.jsx(y,{variant:"body2",color:"text.secondary",children:"Média por corrida"}),s.jsxs(y,{variant:"h6",children:["R$ ",(t.totalToday/t.ridesCompleted).toFixed(2)]})]})}),s.jsx(X,{item:!0,xs:4,children:s.jsxs(S,{sx:{textAlign:"center"},children:[s.jsx(Ct,{sx:{fontSize:32,color:"warning.main",mb:1}}),s.jsx(y,{variant:"body2",color:"text.secondary",children:"Avaliação média"}),s.jsxs(y,{variant:"h6",children:[r.toFixed(1)," ⭐"]})]})}),s.jsx(X,{item:!0,xs:4,children:s.jsxs(S,{sx:{textAlign:"center"},children:[s.jsx(Ii,{sx:{fontSize:32,color:"info.main",mb:1}}),s.jsx(y,{variant:"body2",color:"text.secondary",children:"Tempo online"}),s.jsx(y,{variant:"h6",children:"6h 30m"})]})})]})]})}),s.jsx(G,{children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Histórico de Corridas Hoje"}),s.jsx(Xn,{children:e.map((i,o)=>{const a=n(i.type);return s.jsxs(Fragment,{children:[s.jsxs(Qn,{children:[s.jsx(la,{children:s.jsx(it,{color:"success"})}),s.jsx(er,{primary:s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(y,{variant:"body1",children:i.passenger}),s.jsx(fe,{label:a.label,size:"small",color:a.color})]}),secondary:s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[s.jsx(y,{variant:"body2",color:"text.secondary",children:i.time}),s.jsx(S,{sx:{display:"flex",alignItems:"center",gap:.5},children:[...Array(i.rating)].map((c,d)=>s.jsx(Ct,{sx:{fontSize:14,color:"warning.main"}},d))})]})}),s.jsxs(y,{variant:"h6",color:"success.main",children:["+ R$ ",i.amount.toFixed(2)]})]}),o<e.length-1&&s.jsx(Un,{})]},i.id)})}),t.lastRide>0&&s.jsxs(s.Fragment,{children:[s.jsx(Un,{sx:{my:2}}),s.jsxs(S,{sx:{p:2,bgcolor:"success.light",borderRadius:2,textAlign:"center"},children:[s.jsx(y,{variant:"body2",color:"success.contrastText",children:s.jsx("strong",{children:"Última corrida finalizada:"})}),s.jsxs(y,{variant:"h6",color:"success.contrastText",children:["+ R$ ",t.lastRide.toFixed(2)]})]})]})]})})]})};function lh(){return s.jsxs(pe,{maxWidth:"md",sx:{mt:4},children:[s.jsx(Me,{domain:"motorista",title:"Área do Motorista",showBackButton:!0,backUrl:"/"}),s.jsxs(S,{sx:{textAlign:"center",mb:4},children:[s.jsx(ke,{sx:{fontSize:48,color:"warning.main",mb:2}}),s.jsx(y,{variant:"body1",color:"text.secondary",sx:{mb:2},children:"Gerencie suas corridas e serviços"}),s.jsxs(S,{sx:{display:"flex",justifyContent:"center",gap:1,flexWrap:"wrap"},children:[s.jsx(fe,{label:"Corrida Normal",color:"primary"}),s.jsx(fe,{label:"🧭 Guia Turístico",color:"info"})]})]}),s.jsxs(S,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(3, 1fr)"},gap:3},children:[s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(ke,{sx:{fontSize:40,color:"warning.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Dashboard"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Status e disponibilidade"}),s.jsx(N,{variant:"contained",color:"warning",component:kn,to:"/motorista/home",children:"Acessar"})]})}),s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(ca,{sx:{fontSize:40,color:"success.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Corrida Recebida"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Gerenciar solicitações"}),s.jsx(N,{variant:"contained",color:"success",component:kn,to:"/motorista/ride",children:"Acessar"})]})}),s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(it,{sx:{fontSize:40,color:"primary.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Ganhos"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Relatórios financeiros"}),s.jsx(N,{variant:"contained",component:kn,to:"/motorista/earnings",children:"Acessar"})]})})]})]})}function ch(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(Me,{domain:"motorista",title:"Dashboard do Motorista",breadcrumbs:["Dashboard"],backUrl:"/motorista"}),s.jsx(ih,{})]})}function dh(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(Me,{domain:"motorista",title:"Corrida Recebida",breadcrumbs:["Corrida Recebida"],backUrl:"/motorista"}),s.jsx(oh,{})]})}function uh(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(Me,{domain:"motorista",title:"Relatório de Ganhos",breadcrumbs:["Ganhos"],backUrl:"/motorista"}),s.jsx(ah,{})]})}function hh(){return s.jsxs(Mt,{children:[s.jsx(ue,{path:"/",element:s.jsx(lh,{})}),s.jsx(ue,{path:"/home",element:s.jsx(ch,{})}),s.jsx(ue,{path:"/ride",element:s.jsx(dh,{})}),s.jsx(ue,{path:"/earnings",element:s.jsx(uh,{})})]})}const ph=()=>{var p,m;const[t,e]=l.useState(""),[n,r]=l.useState(""),[i,o]=l.useState("passenger"),[a,c]=l.useState(!1),[d,u]=l.useState(""),{login:h}=Lo(),f=Ae();(m=(p=Ke().state)==null?void 0:p.from)!=null&&m.pathname;const x=async g=>{g.preventDefault(),c(!0),u("");const w=await h(t,n,i);w.success?f(i==="admin"?"/admin":i==="driver"?"/driver":"/passenger"):u(w.error),c(!1)};return s.jsx(pe,{component:"main",maxWidth:"xs",children:s.jsx(S,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:s.jsxs(at,{elevation:3,sx:{padding:4,width:"100%"},children:[s.jsxs(S,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[s.jsx(ar,{variant:"full",size:"large",sx:{mb:2}}),s.jsx(y,{variant:"body2",color:"text.secondary",children:"Faça login para continuar"})]}),d&&s.jsx(Se,{severity:"error",sx:{mb:2},children:d}),s.jsxs(S,{component:"form",onSubmit:x,children:[s.jsx(Le,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:t,onChange:g=>e(g.target.value)}),s.jsx(Le,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:g=>r(g.target.value)}),s.jsxs(He,{fullWidth:!0,margin:"normal",children:[s.jsx(Ge,{id:"user-type-label",children:"Tipo de Usuário"}),s.jsxs(Ze,{labelId:"user-type-label",id:"user-type",value:i,label:"Tipo de Usuário",onChange:g=>o(g.target.value),children:[s.jsx(ie,{value:"passenger",children:"Passageiro"}),s.jsx(ie,{value:"driver",children:"Motorista"}),s.jsx(ie,{value:"admin",children:"Administrador"})]})]}),s.jsx(N,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:a,children:a?s.jsx(Oe,{size:24}):"Entrar"})]})]})})})};function fh(){return s.jsxs(pe,{maxWidth:"sm",sx:{mt:8,textAlign:"center"},children:[s.jsx(Me,{domain:"login",title:"Acesso ao Sistema",showBackButton:!0,backUrl:"/"}),s.jsxs(S,{sx:{mb:4},children:[s.jsx(ar,{variant:"icon",size:"large",sx:{mb:2}}),s.jsx(da,{sx:{fontSize:48,color:"primary.main",mb:2}}),s.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,children:"Acesso KAVIAR"}),s.jsx(y,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Entre no sistema de corridas comunitárias"})]}),s.jsx(S,{sx:{mb:4},children:s.jsx(N,{variant:"contained",size:"large",href:"/login/form",sx:{py:2,px:4},children:"Fazer Login"})})]})}function gh(){return s.jsxs(pe,{maxWidth:"sm",sx:{mt:2},children:[s.jsx(Me,{domain:"login",title:"Formulário de Login",breadcrumbs:["Login"],backUrl:"/login"}),s.jsx(ph,{})]})}function mh(){return s.jsxs(Mt,{children:[s.jsx(ue,{path:"/",element:s.jsx(fh,{})}),s.jsx(ue,{path:"/form",element:s.jsx(gh,{})})]})}const Ye=({children:t})=>{const e=Ke();return localStorage.getItem("kaviar_admin_token")?t:s.jsx(hl,{to:"/admin/login",state:{from:e},replace:!0})},vh="https://your-backend-url.onrender.com";function xh(){var v,x;const[t,e]=l.useState(""),[n,r]=l.useState(""),[i,o]=l.useState(""),[a,c]=l.useState(!1),d=Ae(),h=((x=(v=Ke().state)==null?void 0:v.from)==null?void 0:x.pathname)||"/admin",f=async p=>{p.preventDefault(),o(""),c(!0);try{const g=await(await fetch(`${vh}/admin/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})})).json();g.success?(localStorage.setItem("kaviar_admin_token",g.data.token),localStorage.setItem("kaviar_admin_data",JSON.stringify(g.data.admin)),d(h,{replace:!0})):o(g.error||"Erro ao fazer login")}catch{o("Erro de conexão. Tente novamente.")}finally{c(!1)}};return s.jsxs("div",{style:{maxWidth:"400px",margin:"100px auto",padding:"20px"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[s.jsx("h1",{style:{color:"#d32f2f"},children:"Admin Login"}),s.jsx("p",{children:"Acesso restrito ao painel administrativo"})]}),i&&s.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:i}),s.jsxs("form",{onSubmit:f,children:[s.jsx("div",{style:{marginBottom:"15px"},children:s.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:p=>e(p.target.value),required:!0,disabled:a,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})}),s.jsx("div",{style:{marginBottom:"20px"},children:s.jsx("input",{type:"password",placeholder:"Senha",value:n,onChange:p=>r(p.target.value),required:!0,disabled:a,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})}),s.jsx("button",{type:"submit",disabled:a,style:{width:"100%",padding:"12px",backgroundColor:"#d32f2f",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",cursor:a?"not-allowed":"pointer"},children:a?"Entrando...":"Entrar"})]}),s.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:s.jsx("button",{onClick:()=>d("/"),disabled:a,style:{background:"none",border:"none",color:"#1976d2",cursor:"pointer",textDecoration:"underline"},children:"Voltar ao início"})})]})}const yh=()=>{const[t,e]=l.useState(null),[n,r]=l.useState(!0),[i,o]=l.useState("");l.useEffect(()=>{a()},[]);const a=async()=>{try{const u=(await $e.get("/api/v1/dashboard/overview")).data;e({rides_today:u.rides_today||0,active_drivers:u.active_drivers||0,acceptance_rate:u.acceptance_rate||0,revenue_today:u.revenue_today||0})}catch{o("Erro ao carregar métricas do dashboard")}finally{r(!1)}},c=({title:d,value:u,icon:h,color:f="primary"})=>s.jsx(G,{children:s.jsx(Z,{children:s.jsxs(S,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(S,{children:[s.jsx(y,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:d}),s.jsx(y,{variant:"h4",component:"h2",children:u||"0"})]}),s.jsx(S,{sx:{color:`${f}.main`},children:h})]})})});return n?s.jsx(je,{title:"Admin - Dashboard",children:s.jsx(S,{display:"flex",justifyContent:"center",mt:4,children:s.jsx(Oe,{})})}):s.jsxs(je,{title:"Admin - Dashboard",children:[s.jsx(y,{variant:"h4",gutterBottom:!0,children:"Dashboard Administrativo"}),i&&s.jsx(Se,{severity:"error",sx:{mb:3},children:i}),s.jsxs(X,{container:!0,spacing:3,children:[s.jsx(X,{item:!0,xs:12,sm:6,md:3,children:s.jsx(c,{title:"Corridas Hoje",value:t==null?void 0:t.rides_today,icon:s.jsx(ke,{sx:{fontSize:40}}),color:"primary"})}),s.jsx(X,{item:!0,xs:12,sm:6,md:3,children:s.jsx(c,{title:"Motoristas Ativos",value:t==null?void 0:t.active_drivers,icon:s.jsx(ua,{sx:{fontSize:40}}),color:"success"})}),s.jsx(X,{item:!0,xs:12,sm:6,md:3,children:s.jsx(c,{title:"Taxa de Aceite",value:t!=null&&t.acceptance_rate?`${t.acceptance_rate}%`:"0%",icon:s.jsx(Bi,{sx:{fontSize:40}}),color:"info"})}),s.jsx(X,{item:!0,xs:12,sm:6,md:3,children:s.jsx(c,{title:"Receita Hoje",value:t!=null&&t.revenue_today?`R$ ${t.revenue_today}`:"R$ 0",icon:s.jsx(it,{sx:{fontSize:40}}),color:"warning"})})]})]})},bh=()=>{const[t,e]=l.useState([]),[n,r]=l.useState(!0),[i,o]=l.useState("");l.useEffect(()=>{a()},[]);const a=async()=>{try{const h=(await $e.get("/api/v1/communities")).data.map(f=>({...f,services:{standard_ride:!0,tour_guide:f.tour_guide_enabled||!1,care:f.elderly_assistance_enabled||!1}}));e(h)}catch{o("Erro ao carregar comunidades")}finally{r(!1)}},c=async(u,h)=>{try{await $e.patch(`/api/admin/communities/${u}`,{is_active:!h}),a()}catch{o("Erro ao atualizar status da comunidade")}},d=async(u,h,f)=>{try{await $e.patch(`/api/admin/communities/${u}/services`,{service_type:h,enabled:!f}),a()}catch{o("Erro ao atualizar serviço")}};return n?s.jsx(je,{title:"Admin - Comunidades",children:s.jsx(S,{display:"flex",justifyContent:"center",mt:4,children:s.jsx(Oe,{})})}):s.jsxs(je,{title:"Admin - Gestão de Comunidades",children:[s.jsxs(S,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(y,{variant:"h4",children:"Gestão de Comunidades"}),s.jsx(N,{variant:"contained",startIcon:s.jsx(ha,{}),children:"Nova Comunidade"})]}),i&&s.jsx(Se,{severity:"error",sx:{mb:3},children:i}),s.jsx(G,{children:s.jsx(Z,{children:s.jsx(hn,{component:at,children:s.jsxs(pn,{children:[s.jsx(fn,{children:s.jsxs(Be,{children:[s.jsx(z,{children:"Nome"}),s.jsx(z,{children:"Tipo"}),s.jsx(z,{children:"Status"}),s.jsx(z,{children:"Corrida Normal"}),s.jsx(z,{children:"Guia Turístico"}),s.jsx(z,{children:"Care"}),s.jsx(z,{children:"Ações"})]})}),s.jsx(gn,{children:t.map(u=>{var h,f,v;return s.jsxs(Be,{children:[s.jsx(z,{children:u.name}),s.jsx(z,{children:s.jsx(fe,{label:u.type,size:"small",color:u.type==="RESIDENTIAL"?"primary":"secondary"})}),s.jsx(z,{children:s.jsx(_i,{control:s.jsx(yt,{checked:u.is_active,onChange:()=>c(u.id,u.is_active)}),label:u.is_active?"Ativa":"Inativa"})}),s.jsx(z,{children:s.jsx(yt,{checked:((h=u.services)==null?void 0:h.standard_ride)||!0,onChange:()=>{var x;return d(u.id,"STANDARD_RIDE",(x=u.services)==null?void 0:x.standard_ride)},size:"small"})}),s.jsx(z,{children:s.jsx(yt,{checked:((f=u.services)==null?void 0:f.tour_guide)||!1,onChange:()=>{var x;return d(u.id,"TOUR_GUIDE",(x=u.services)==null?void 0:x.tour_guide)},size:"small"})}),s.jsx(z,{children:s.jsx(yt,{checked:((v=u.services)==null?void 0:v.care)||!1,onChange:()=>{var x;return d(u.id,"ELDERLY_ASSISTANCE",(x=u.services)==null?void 0:x.care)},size:"small"})}),s.jsx(z,{children:s.jsx(N,{size:"small",startIcon:s.jsx(tr,{}),children:"Editar"})})]},u.id)})})]})})})})]})},jh=()=>{var m,g,w,C,k,b,j,M,R,I,P,_,B;const[t,e]=l.useState(null),[n,r]=l.useState([]),[i,o]=l.useState(30),[a,c]=l.useState(""),[d,u]=l.useState(!0),[h,f]=l.useState("");l.useEffect(()=>{v(),x()},[i,a]);const v=async()=>{try{const D=await $e.get("/api/admin/communities");r(D.data.data)}catch{console.error("Erro ao carregar comunidades")}},x=async()=>{u(!0);try{const D=new URLSearchParams({period:i.toString()});a&&D.append("community_id",a);const V=await $e.get(`/api/analytics/bonus-roi-summary?${D}`);e(V.data.data)}catch{f("Erro ao carregar métricas de bônus")}finally{u(!1)}},p=({title:D,value:V,subtitle:U,icon:F,color:W="primary"})=>s.jsx(G,{children:s.jsx(Z,{children:s.jsxs(S,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(S,{children:[s.jsx(y,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:D}),s.jsx(y,{variant:"h5",component:"h2",children:V}),U&&s.jsx(y,{variant:"body2",color:"textSecondary",children:U})]}),s.jsx(S,{sx:{color:`${W}.main`},children:F})]})})});return s.jsxs(je,{title:"Admin - Métricas de Bônus",children:[s.jsx(y,{variant:"h4",gutterBottom:!0,children:"Métricas do Bônus de Aceite Imediato"}),s.jsx(G,{sx:{mb:3},children:s.jsx(Z,{children:s.jsxs(X,{container:!0,spacing:2,children:[s.jsx(X,{item:!0,xs:12,sm:6,children:s.jsxs(He,{fullWidth:!0,children:[s.jsx(Ge,{children:"Período"}),s.jsxs(Ze,{value:i,label:"Período",onChange:D=>o(D.target.value),children:[s.jsx(ie,{value:7,children:"Últimos 7 dias"}),s.jsx(ie,{value:30,children:"Últimos 30 dias"}),s.jsx(ie,{value:90,children:"Últimos 90 dias"})]})]})}),s.jsx(X,{item:!0,xs:12,sm:6,children:s.jsxs(He,{fullWidth:!0,children:[s.jsx(Ge,{children:"Comunidade"}),s.jsxs(Ze,{value:a,label:"Comunidade",onChange:D=>c(D.target.value),children:[s.jsx(ie,{value:"",children:"Todas as comunidades"}),n.map(D=>s.jsx(ie,{value:D.id,children:D.name},D.id))]})]})})]})})}),h&&s.jsx(Se,{severity:"error",sx:{mb:3},children:h}),d?s.jsx(S,{display:"flex",justifyContent:"center",mt:4,children:s.jsx(Oe,{})}):t&&s.jsxs(s.Fragment,{children:[s.jsxs(X,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(X,{item:!0,xs:12,sm:6,md:3,children:s.jsx(p,{title:"Corridas com Bônus",value:((m=t.summary)==null?void 0:m.rides_with_bonus)||0,icon:s.jsx(pa,{sx:{fontSize:40}}),color:"primary"})}),s.jsx(X,{item:!0,xs:12,sm:6,md:3,children:s.jsx(p,{title:"Tempo Médio (Com Bônus)",value:`${((g=t.summary)==null?void 0:g.avg_time_bonus)||0}s`,icon:s.jsx(_r,{sx:{fontSize:40}}),color:"success"})}),s.jsx(X,{item:!0,xs:12,sm:6,md:3,children:s.jsx(p,{title:"Tempo Médio (Sem Bônus)",value:`${((w=t.summary)==null?void 0:w.avg_time_regular)||0}s`,icon:s.jsx(_r,{sx:{fontSize:40}}),color:"warning"})}),s.jsx(X,{item:!0,xs:12,sm:6,md:3,children:s.jsx(p,{title:"Custo Total",value:`R$ ${((C=t.summary)==null?void 0:C.total_bonus_cost)||0}`,icon:s.jsx(it,{sx:{fontSize:40}}),color:"error"})})]}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Análise de Impacto"}),s.jsxs(X,{container:!0,spacing:3,children:[s.jsx(X,{item:!0,xs:12,sm:4,children:s.jsxs(S,{textAlign:"center",children:[s.jsxs(y,{variant:"h4",color:"success.main",children:[((k=t.summary)==null?void 0:k.improvement_percentage)||0,"%"]}),s.jsx(y,{variant:"body2",color:"textSecondary",children:"Redução no Tempo de Aceite"})]})}),s.jsx(X,{item:!0,xs:12,sm:4,children:s.jsxs(S,{textAlign:"center",children:[s.jsxs(y,{variant:"h4",color:"primary.main",children:[((((b=t.summary)==null?void 0:b.avg_time_regular)||0)-(((j=t.summary)==null?void 0:j.avg_time_bonus)||0)).toFixed(1),"s"]}),s.jsx(y,{variant:"body2",color:"textSecondary",children:"Segundos Economizados"})]})}),s.jsx(X,{item:!0,xs:12,sm:4,children:s.jsxs(S,{textAlign:"center",children:[s.jsxs(y,{variant:"h4",color:"info.main",children:["R$ ",((((M=t.summary)==null?void 0:M.total_bonus_cost)||0)/(((R=t.summary)==null?void 0:R.rides_with_bonus)||1)).toFixed(2)]}),s.jsx(y,{variant:"body2",color:"textSecondary",children:"Custo Médio por Corrida"})]})})]})]})}),s.jsx(G,{children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Status do A/B Test"}),s.jsx(hn,{component:at,children:s.jsxs(pn,{children:[s.jsx(fn,{children:s.jsxs(Be,{children:[s.jsx(z,{children:"Grupo"}),s.jsx(z,{align:"right",children:"Corridas"}),s.jsx(z,{align:"right",children:"Tempo Médio"}),s.jsx(z,{align:"right",children:"Status"})]})}),s.jsxs(gn,{children:[s.jsxs(Be,{children:[s.jsx(z,{children:s.jsx(fe,{label:"Grupo A (Com Bônus)",color:"primary"})}),s.jsx(z,{align:"right",children:((I=t.summary)==null?void 0:I.rides_with_bonus)||0}),s.jsxs(z,{align:"right",children:[((P=t.summary)==null?void 0:P.avg_time_bonus)||0,"s"]}),s.jsx(z,{align:"right",children:s.jsx(fe,{label:"Ativo",color:"success",size:"small"})})]}),s.jsxs(Be,{children:[s.jsx(z,{children:s.jsx(fe,{label:"Grupo B (Sem Bônus)",color:"default"})}),s.jsx(z,{align:"right",children:((_=t.summary)==null?void 0:_.rides_without_bonus)||0}),s.jsxs(z,{align:"right",children:[((B=t.summary)==null?void 0:B.avg_time_regular)||0,"s"]}),s.jsx(z,{align:"right",children:s.jsx(fe,{label:"Controle",color:"default",size:"small"})})]})]})]})})]})})]})]})},Lh={requested:"warning",accepted:"info",arrived:"primary",started:"secondary",completed:"success",paid:"success",cancelled_by_user:"error",cancelled_by_driver:"error",cancelled_by_admin:"error"},Ch={normal:"Normal",combo:"Combo",comunidade:"Comunidade"};function wh(){const t=Ae(),[e,n]=l.useState([]),[r,i]=l.useState(!0),[o,a]=l.useState(""),[c,d]=l.useState({page:1,limit:10,total:0,totalPages:0}),[u,h]=l.useState({status:"",type:"",dateFrom:"",dateTo:"",search:""}),f=async()=>{i(!0),a("");try{const m=localStorage.getItem("kaviar_admin_token"),g=new URLSearchParams({page:c.page.toString(),limit:c.limit.toString(),...Object.fromEntries(Object.entries(u).filter(([k,b])=>b))}),C=await(await fetch(`http://localhost:3001/api/admin/rides?${g}`,{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}})).json();C.success?(n(C.data),d(k=>({...k,...C.pagination}))):a(C.error||"Erro ao carregar corridas")}catch{a("Erro de conexão")}finally{i(!1)}};l.useEffect(()=>{f()},[c.page,u]);const v=(m,g)=>{h(w=>({...w,[m]:g})),d(w=>({...w,page:1}))},x=m=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m),p=m=>new Date(m).toLocaleString("pt-BR");return s.jsxs(pe,{maxWidth:"xl",sx:{mt:2},children:[s.jsxs(S,{sx:{mb:3},children:[s.jsx(y,{variant:"h4",gutterBottom:!0,children:"Gestão de Corridas"}),s.jsx(y,{variant:"body1",color:"text.secondary",children:"Controle operacional completo das corridas"})]}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Filtros"}),s.jsxs(S,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:2},children:[s.jsxs(He,{size:"small",children:[s.jsx(Ge,{children:"Status"}),s.jsxs(Ze,{value:u.status,label:"Status",onChange:m=>v("status",m.target.value),children:[s.jsx(ie,{value:"",children:"Todos"}),s.jsx(ie,{value:"requested",children:"Solicitada"}),s.jsx(ie,{value:"accepted",children:"Aceita"}),s.jsx(ie,{value:"arrived",children:"Chegou"}),s.jsx(ie,{value:"started",children:"Iniciada"}),s.jsx(ie,{value:"completed",children:"Concluída"}),s.jsx(ie,{value:"paid",children:"Paga"}),s.jsx(ie,{value:"cancelled_by_user",children:"Cancelada (Usuário)"}),s.jsx(ie,{value:"cancelled_by_driver",children:"Cancelada (Motorista)"}),s.jsx(ie,{value:"cancelled_by_admin",children:"Cancelada (Admin)"})]})]}),s.jsxs(He,{size:"small",children:[s.jsx(Ge,{children:"Tipo"}),s.jsxs(Ze,{value:u.type,label:"Tipo",onChange:m=>v("type",m.target.value),children:[s.jsx(ie,{value:"",children:"Todos"}),s.jsx(ie,{value:"normal",children:"Normal"}),s.jsx(ie,{value:"combo",children:"Combo"}),s.jsx(ie,{value:"comunidade",children:"Comunidade"})]})]}),s.jsx(Le,{size:"small",label:"Data Inicial",type:"date",value:u.dateFrom,onChange:m=>v("dateFrom",m.target.value),InputLabelProps:{shrink:!0}}),s.jsx(Le,{size:"small",label:"Data Final",type:"date",value:u.dateTo,onChange:m=>v("dateTo",m.target.value),InputLabelProps:{shrink:!0}}),s.jsx(Le,{size:"small",label:"Buscar",placeholder:"Passageiro, motorista, origem...",value:u.search,onChange:m=>v("search",m.target.value),InputProps:{startAdornment:s.jsx(zi,{sx:{mr:1,color:"text.secondary"}})}})]})]})}),o&&s.jsx(Se,{severity:"error",sx:{mb:2},children:o}),r?s.jsx(S,{sx:{display:"flex",justifyContent:"center",py:4},children:s.jsx(Oe,{})}):s.jsxs(s.Fragment,{children:[s.jsx(hn,{component:at,children:s.jsxs(pn,{children:[s.jsx(fn,{children:s.jsxs(Be,{children:[s.jsx(z,{children:"ID"}),s.jsx(z,{children:"Passageiro"}),s.jsx(z,{children:"Motorista"}),s.jsx(z,{children:"Rota"}),s.jsx(z,{children:"Tipo"}),s.jsx(z,{children:"Valor"}),s.jsx(z,{children:"Status"}),s.jsx(z,{children:"Data/Hora"}),s.jsx(z,{children:"Ações"})]})}),s.jsx(gn,{children:e.map(m=>{var g,w,C,k;return s.jsxs(Be,{hover:!0,children:[s.jsx(z,{children:s.jsx(y,{variant:"body2",fontFamily:"monospace",children:m.id.slice(-8)})}),s.jsx(z,{children:s.jsxs(S,{children:[s.jsx(y,{variant:"body2",fontWeight:"bold",children:((g=m.passenger)==null?void 0:g.name)||"N/A"}),s.jsx(y,{variant:"caption",color:"text.secondary",children:((w=m.passenger)==null?void 0:w.phone)||""})]})}),s.jsx(z,{children:s.jsxs(S,{children:[s.jsx(y,{variant:"body2",fontWeight:"bold",children:((C=m.driver)==null?void 0:C.name)||"Não atribuído"}),s.jsx(y,{variant:"caption",color:"text.secondary",children:((k=m.driver)==null?void 0:k.phone)||""})]})}),s.jsx(z,{children:s.jsxs(S,{children:[s.jsx(y,{variant:"body2",children:m.origin}),s.jsxs(y,{variant:"body2",color:"text.secondary",children:["→ ",m.destination]})]})}),s.jsx(z,{children:s.jsx(fe,{label:Ch[m.type]||"Normal",size:"small",variant:"outlined"})}),s.jsx(z,{children:s.jsx(y,{variant:"body2",fontWeight:"bold",children:x(m.price)})}),s.jsx(z,{children:s.jsx(fe,{label:m.status,color:Lh[m.status]||"default",size:"small"})}),s.jsx(z,{children:s.jsx(y,{variant:"body2",children:p(m.createdAt)})}),s.jsx(z,{children:s.jsx(N,{size:"small",startIcon:s.jsx(fa,{}),onClick:()=>t(`/admin/rides/${m.id}`),children:"Ver"})})]},m.id)})})]})}),s.jsx(S,{sx:{display:"flex",justifyContent:"center",mt:3},children:s.jsx(Ui,{count:c.totalPages,page:c.page,onChange:(m,g)=>d(w=>({...w,page:g})),color:"primary"})}),s.jsxs(y,{variant:"body2",color:"text.secondary",sx:{mt:2,textAlign:"center"},children:["Mostrando ",e.length," de ",c.total," corridas"]})]})]})}const Ei={requested:"warning",accepted:"info",arrived:"primary",started:"secondary",completed:"success",paid:"success",cancelled_by_user:"error",cancelled_by_driver:"error",cancelled_by_admin:"error"};function Sh(){var W,oe,H,re,Q;const{id:t}=Ya(),e=Ae(),[n,r]=l.useState(null),[i,o]=l.useState(!0),[a,c]=l.useState(""),[d,u]=l.useState(!1),[h,f]=l.useState(!1),[v,x]=l.useState(!1),[p,m]=l.useState(!1),[g,w]=l.useState(""),[C,k]=l.useState(""),[b,j]=l.useState(""),[M,R]=l.useState(""),I=async()=>{o(!0),c("");try{const A=localStorage.getItem("kaviar_admin_token"),T=await(await fetch(`http://localhost:3001/api/admin/rides/${t}`,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}})).json();T.success?r(T.data):c(T.error||"Erro ao carregar corrida")}catch{c("Erro de conexão")}finally{o(!1)}};l.useEffect(()=>{I()},[t]);const P=async()=>{if(g.trim()){u(!0);try{const A=localStorage.getItem("kaviar_admin_token"),T=await(await fetch(`http://localhost:3001/api/admin/rides/${t}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({reason:g})})).json();T.success?(f(!1),w(""),I()):c(T.error||"Erro ao cancelar corrida")}catch{c("Erro de conexão")}finally{u(!1)}}},_=async()=>{if(C.trim()){u(!0);try{const A=localStorage.getItem("kaviar_admin_token"),T=await(await fetch(`http://localhost:3001/api/admin/rides/${t}/force-complete`,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({reason:C})})).json();T.success?(x(!1),k(""),I()):c(T.error||"Erro ao finalizar corrida")}catch{c("Erro de conexão")}finally{u(!1)}}},B=async()=>{if(!(!b||!M.trim())){u(!0);try{const A=localStorage.getItem("kaviar_admin_token"),T=await(await fetch(`http://localhost:3001/api/admin/rides/${t}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({status:b,reason:M})})).json();T.success?(m(!1),j(""),R(""),I()):c(T.error||"Erro ao atualizar status")}catch{c("Erro de conexão")}finally{u(!1)}}},D=A=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A),V=A=>new Date(A).toLocaleString("pt-BR"),U=A=>{const q=parseFloat(A),T=q*.15,se=q-T;return{gross:q,platformFee:T,driverAmount:se}};if(i)return s.jsx(pe,{maxWidth:"lg",sx:{mt:2},children:s.jsx(S,{sx:{display:"flex",justifyContent:"center",py:4},children:s.jsx(Oe,{})})});if(a||!n)return s.jsx(pe,{maxWidth:"lg",sx:{mt:2},children:s.jsx(Se,{severity:"error",children:a||"Corrida não encontrada"})});const F=U(n.price);return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsxs(S,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[s.jsx(N,{startIcon:s.jsx(Ve,{}),onClick:()=>e("/admin/rides"),children:"Voltar"}),s.jsxs(S,{children:[s.jsxs(y,{variant:"h4",children:["Corrida #",n.id.slice(-8)]}),s.jsx(y,{variant:"body1",color:"text.secondary",children:"Detalhes e ações administrativas"})]})]}),a&&s.jsx(Se,{severity:"error",sx:{mb:2},children:a}),s.jsxs(X,{container:!0,spacing:3,children:[s.jsxs(X,{item:!0,xs:12,md:8,children:[s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Informações da Corrida"}),s.jsxs(X,{container:!0,spacing:2,children:[s.jsx(X,{item:!0,xs:12,sm:6,children:s.jsxs(S,{sx:{mb:2},children:[s.jsx(y,{variant:"subtitle2",color:"text.secondary",children:"Status Atual"}),s.jsx(fe,{label:n.status,color:Ei[n.status]||"default",sx:{mt:.5}})]})}),s.jsx(X,{item:!0,xs:12,sm:6,children:s.jsxs(S,{sx:{mb:2},children:[s.jsx(y,{variant:"subtitle2",color:"text.secondary",children:"Tipo da Corrida"}),s.jsx(y,{variant:"body1",children:n.type||"Normal"})]})}),s.jsx(X,{item:!0,xs:12,children:s.jsxs(S,{sx:{mb:2},children:[s.jsxs(y,{variant:"subtitle2",color:"text.secondary",children:[s.jsx(Ai,{sx:{fontSize:16,mr:.5}}),"Rota"]}),s.jsxs(y,{variant:"body1",children:[s.jsx("strong",{children:"Origem:"})," ",n.origin]}),s.jsxs(y,{variant:"body1",children:[s.jsx("strong",{children:"Destino:"})," ",n.destination]})]})}),s.jsx(X,{item:!0,xs:12,sm:6,children:s.jsxs(S,{sx:{mb:2},children:[s.jsxs(y,{variant:"subtitle2",color:"text.secondary",children:[s.jsx(jt,{sx:{fontSize:16,mr:.5}}),"Passageiro"]}),s.jsx(y,{variant:"body1",children:(W=n.passenger)==null?void 0:W.name}),s.jsx(y,{variant:"body2",color:"text.secondary",children:(oe=n.passenger)==null?void 0:oe.phone})]})}),s.jsx(X,{item:!0,xs:12,sm:6,children:s.jsxs(S,{sx:{mb:2},children:[s.jsxs(y,{variant:"subtitle2",color:"text.secondary",children:[s.jsx(jt,{sx:{fontSize:16,mr:.5}}),"Motorista"]}),s.jsx(y,{variant:"body1",children:((H=n.driver)==null?void 0:H.name)||"Não atribuído"}),s.jsx(y,{variant:"body2",color:"text.secondary",children:((re=n.driver)==null?void 0:re.phone)||""})]})})]})]})}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsxs(y,{variant:"h6",gutterBottom:!0,children:[s.jsx(it,{sx:{fontSize:20,mr:.5}}),"Breakdown Financeiro"]}),s.jsxs(X,{container:!0,spacing:2,children:[s.jsx(X,{item:!0,xs:12,sm:4,children:s.jsxs(S,{sx:{textAlign:"center",p:2,bgcolor:"grey.50",borderRadius:1},children:[s.jsx(y,{variant:"subtitle2",color:"text.secondary",children:"Valor Bruto"}),s.jsx(y,{variant:"h6",color:"primary",children:D(F.gross)})]})}),s.jsx(X,{item:!0,xs:12,sm:4,children:s.jsxs(S,{sx:{textAlign:"center",p:2,bgcolor:"grey.50",borderRadius:1},children:[s.jsx(y,{variant:"subtitle2",color:"text.secondary",children:"Taxa Plataforma (15%)"}),s.jsx(y,{variant:"h6",color:"warning.main",children:D(F.platformFee)})]})}),s.jsx(X,{item:!0,xs:12,sm:4,children:s.jsxs(S,{sx:{textAlign:"center",p:2,bgcolor:"grey.50",borderRadius:1},children:[s.jsx(y,{variant:"subtitle2",color:"text.secondary",children:"Repasse Motorista"}),s.jsx(y,{variant:"h6",color:"success.main",children:D(F.driverAmount)})]})})]}),s.jsxs(S,{sx:{mt:2},children:[s.jsx(y,{variant:"subtitle2",color:"text.secondary",children:"Método de Pagamento"}),s.jsx(y,{variant:"body1",children:n.paymentMethod||"Cartão de Crédito"})]})]})})]}),s.jsxs(X,{item:!0,xs:12,md:4,children:[s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Ações Administrativas"}),s.jsxs(S,{sx:{display:"flex",flexDirection:"column",gap:1},children:[s.jsx(N,{variant:"outlined",color:"error",startIcon:s.jsx(un,{}),onClick:()=>f(!0),disabled:["completed","paid","cancelled_by_admin","cancelled_by_user","cancelled_by_driver"].includes(n.status),fullWidth:!0,children:"Cancelar Corrida"}),s.jsx(N,{variant:"outlined",color:"success",startIcon:s.jsx(rt,{}),onClick:()=>x(!0),disabled:["completed","paid","cancelled_by_admin","cancelled_by_user","cancelled_by_driver"].includes(n.status),fullWidth:!0,children:"Forçar Finalização"}),s.jsx(N,{variant:"outlined",startIcon:s.jsx(tr,{}),onClick:()=>m(!0),fullWidth:!0,children:"Corrigir Status"})]})]})}),s.jsx(G,{children:s.jsxs(Z,{children:[s.jsxs(y,{variant:"h6",gutterBottom:!0,children:[s.jsx(Ti,{sx:{fontSize:20,mr:.5}}),"Linha do Tempo"]}),s.jsx(Xn,{children:(Q=n.statusHistory)==null?void 0:Q.map((A,q)=>s.jsx(Qn,{children:s.jsx(er,{primary:s.jsx(S,{sx:{display:"flex",alignItems:"center",gap:1},children:s.jsx(fe,{label:A.status,color:Ei[A.status]||"grey",size:"small"})}),secondary:V(A.createdAt)})},A.id))})]})})]})]}),s.jsxs(Sn,{open:h,onClose:()=>f(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(En,{children:"Cancelar Corrida"}),s.jsx(Mn,{children:s.jsx(Le,{fullWidth:!0,multiline:!0,rows:3,label:"Motivo do cancelamento",value:g,onChange:A=>w(A.target.value),sx:{mt:1},required:!0})}),s.jsxs(Pn,{children:[s.jsx(N,{onClick:()=>f(!1),children:"Cancelar"}),s.jsx(N,{onClick:P,color:"error",disabled:!g.trim()||d,children:d?s.jsx(Oe,{size:20}):"Confirmar Cancelamento"})]})]}),s.jsxs(Sn,{open:v,onClose:()=>x(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(En,{children:"Forçar Finalização"}),s.jsx(Mn,{children:s.jsx(Le,{fullWidth:!0,multiline:!0,rows:3,label:"Motivo da finalização forçada",value:C,onChange:A=>k(A.target.value),sx:{mt:1},required:!0})}),s.jsxs(Pn,{children:[s.jsx(N,{onClick:()=>x(!1),children:"Cancelar"}),s.jsx(N,{onClick:_,color:"success",disabled:!C.trim()||d,children:d?s.jsx(Oe,{size:20}):"Confirmar Finalização"})]})]}),s.jsxs(Sn,{open:p,onClose:()=>m(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(En,{children:"Corrigir Status"}),s.jsxs(Mn,{children:[s.jsxs(He,{fullWidth:!0,sx:{mt:1,mb:2},children:[s.jsx(Ge,{children:"Novo Status"}),s.jsxs(Ze,{value:b,label:"Novo Status",onChange:A=>j(A.target.value),children:[s.jsx(ie,{value:"requested",children:"Solicitada"}),s.jsx(ie,{value:"accepted",children:"Aceita"}),s.jsx(ie,{value:"arrived",children:"Chegou"}),s.jsx(ie,{value:"started",children:"Iniciada"}),s.jsx(ie,{value:"completed",children:"Concluída"}),s.jsx(ie,{value:"paid",children:"Paga"})]})]}),s.jsx(Le,{fullWidth:!0,multiline:!0,rows:3,label:"Justificativa da correção",value:M,onChange:A=>R(A.target.value),required:!0})]}),s.jsxs(Pn,{children:[s.jsx(N,{onClick:()=>m(!1),children:"Cancelar"}),s.jsx(N,{onClick:B,color:"primary",disabled:!b||!M.trim()||d,children:d?s.jsx(Oe,{size:20}):"Atualizar Status"})]})]})]})}const Eh={cancel:s.jsx(un,{color:"error"}),force_complete:s.jsx(rt,{color:"success"}),status_update:s.jsx(tr,{color:"primary"}),reassign_driver:s.jsx(jt,{color:"info"})},Mh={cancel:"error",force_complete:"success",status_update:"primary",reassign_driver:"info"},Ph={cancel:"Cancelamento",force_complete:"Finalização Forçada",status_update:"Correção de Status",reassign_driver:"Reatribuição"};function Oh(){const[t,e]=l.useState([]),[n,r]=l.useState(!0),[i,o]=l.useState(""),[a,c]=l.useState({page:1,limit:20,total:0,totalPages:0}),[d,u]=l.useState({rideId:"",adminId:"",action:"",dateFrom:"",dateTo:""}),h=async()=>{r(!0),o("");try{const p=localStorage.getItem("kaviar_admin_token"),m=new URLSearchParams({page:a.page.toString(),limit:a.limit.toString(),...Object.fromEntries(Object.entries(d).filter(([C,k])=>k))}),w=await(await fetch(`http://localhost:3001/api/admin/rides/audit?${m}`,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}})).json();w.success?(e(w.data),c(C=>({...C,...w.pagination}))):o(w.error||"Erro ao carregar logs de auditoria")}catch{o("Erro de conexão")}finally{r(!1)}};l.useEffect(()=>{h()},[a.page,d]);const f=(p,m)=>{u(g=>({...g,[p]:m})),c(g=>({...g,page:1}))},v=p=>new Date(p).toLocaleString("pt-BR"),x=p=>p.split(" ").map(m=>m[0]).join("").toUpperCase().slice(0,2);return s.jsxs(pe,{maxWidth:"xl",sx:{mt:2},children:[s.jsxs(S,{sx:{mb:3},children:[s.jsxs(y,{variant:"h4",gutterBottom:!0,children:[s.jsx(Ni,{sx:{fontSize:32,mr:1,verticalAlign:"middle"}}),"Auditoria de Corridas"]}),s.jsx(y,{variant:"body1",color:"text.secondary",children:"Registro completo de todas as ações administrativas"})]}),s.jsx(G,{sx:{mb:3},children:s.jsxs(Z,{children:[s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Filtros de Auditoria"}),s.jsxs(S,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:2},children:[s.jsx(Le,{size:"small",label:"ID da Corrida",placeholder:"Digite o ID...",value:d.rideId,onChange:p=>f("rideId",p.target.value),InputProps:{startAdornment:s.jsx(zi,{sx:{mr:1,color:"text.secondary"}})}}),s.jsx(Le,{size:"small",label:"Admin Responsável",placeholder:"Nome do admin...",value:d.adminId,onChange:p=>f("adminId",p.target.value)}),s.jsxs(He,{size:"small",children:[s.jsx(Ge,{children:"Tipo de Ação"}),s.jsxs(Ze,{value:d.action,label:"Tipo de Ação",onChange:p=>f("action",p.target.value),children:[s.jsx(ie,{value:"",children:"Todas"}),s.jsx(ie,{value:"cancel",children:"Cancelamento"}),s.jsx(ie,{value:"force_complete",children:"Finalização Forçada"}),s.jsx(ie,{value:"status_update",children:"Correção de Status"}),s.jsx(ie,{value:"reassign_driver",children:"Reatribuição"})]})]}),s.jsx(Le,{size:"small",label:"Data Inicial",type:"date",value:d.dateFrom,onChange:p=>f("dateFrom",p.target.value),InputLabelProps:{shrink:!0}}),s.jsx(Le,{size:"small",label:"Data Final",type:"date",value:d.dateTo,onChange:p=>f("dateTo",p.target.value),InputLabelProps:{shrink:!0}})]})]})}),i&&s.jsx(Se,{severity:"error",sx:{mb:2},children:i}),n?s.jsx(S,{sx:{display:"flex",justifyContent:"center",py:4},children:s.jsx(Oe,{})}):s.jsxs(s.Fragment,{children:[s.jsx(hn,{component:at,children:s.jsxs(pn,{children:[s.jsx(fn,{children:s.jsxs(Be,{children:[s.jsx(z,{children:"Data/Hora"}),s.jsx(z,{children:"Corrida"}),s.jsx(z,{children:"Ação"}),s.jsx(z,{children:"Admin Responsável"}),s.jsx(z,{children:"Motivo"}),s.jsx(z,{children:"Detalhes"})]})}),s.jsx(gn,{children:t.map(p=>{var m;return s.jsxs(Be,{hover:!0,children:[s.jsx(z,{children:s.jsx(y,{variant:"body2",children:v(p.createdAt)})}),s.jsx(z,{children:s.jsxs(y,{variant:"body2",fontFamily:"monospace",children:["#",((m=p.rideId)==null?void 0:m.slice(-8))||"N/A"]})}),s.jsx(z,{children:s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:1},children:[Eh[p.action],s.jsx(fe,{label:Ph[p.action]||p.action,color:Mh[p.action]||"default",size:"small"})]})}),s.jsx(z,{children:s.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Lt,{sx:{width:24,height:24,fontSize:"0.75rem"},children:x(p.adminName||"Admin")}),s.jsxs(S,{children:[s.jsx(y,{variant:"body2",fontWeight:"bold",children:p.adminName||"Admin"}),s.jsx(y,{variant:"caption",color:"text.secondary",children:p.adminRole||"ADMIN"})]})]})}),s.jsx(z,{children:s.jsx(y,{variant:"body2",sx:{maxWidth:200},children:p.reason||"Sem motivo informado"})}),s.jsx(z,{children:p.oldValue&&p.newValue?s.jsxs(S,{children:[s.jsxs(y,{variant:"caption",color:"text.secondary",children:["De: ",p.oldValue]}),s.jsx("br",{}),s.jsxs(y,{variant:"caption",color:"text.secondary",children:["Para: ",p.newValue]})]}):s.jsx(y,{variant:"caption",color:"text.secondary",children:"-"})})]},p.id)})})]})}),t.length===0&&!n&&s.jsx(S,{sx:{textAlign:"center",py:4},children:s.jsx(y,{variant:"body1",color:"text.secondary",children:"Nenhum log de auditoria encontrado"})}),a.totalPages>1&&s.jsx(S,{sx:{display:"flex",justifyContent:"center",mt:3},children:s.jsx(Ui,{count:a.totalPages,page:a.page,onChange:(p,m)=>c(g=>({...g,page:m})),color:"primary"})}),s.jsxs(y,{variant:"body2",color:"text.secondary",sx:{mt:2,textAlign:"center"},children:["Mostrando ",t.length," de ",a.total," registros de auditoria"]})]})]})}function wn(){const t=localStorage.getItem("kaviar_admin_data"),e=t?JSON.parse(t):null,n=()=>{localStorage.removeItem("kaviar_admin_token"),localStorage.removeItem("kaviar_admin_data"),window.location.href="/admin/login"};return s.jsxs(S,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,p:2,bgcolor:"background.paper",borderRadius:1,boxShadow:1},children:[s.jsxs(S,{children:[s.jsxs(y,{variant:"h6",color:"error.main",children:["Admin: ",(e==null?void 0:e.name)||"Usuário"]}),s.jsx(y,{variant:"body2",color:"text.secondary",children:(e==null?void 0:e.role)||"ADMIN"})]}),s.jsx(N,{onClick:n,color:"error",variant:"outlined",size:"small",children:"Sair"})]})}function kh(){return s.jsxs(pe,{maxWidth:"md",sx:{mt:4},children:[s.jsx(wn,{}),s.jsxs(S,{sx:{textAlign:"center",mb:4},children:[s.jsx(ga,{sx:{fontSize:48,color:"error.main",mb:2}}),s.jsx(y,{variant:"h4",gutterBottom:!0,children:"Painel Administrativo"}),s.jsx(y,{variant:"body1",color:"text.secondary",children:"Gestão completa do sistema KAVIAR"})]}),s.jsxs(S,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)"},gap:3},children:[s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(Mi,{sx:{fontSize:40,color:"error.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Dashboard"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Métricas gerais do sistema"}),s.jsx(N,{variant:"contained",color:"error",href:"/admin/dashboard",children:"Acessar"})]})}),s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(ke,{sx:{fontSize:40,color:"primary.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Corridas"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Gestão operacional de corridas"}),s.jsx(N,{variant:"contained",href:"/admin/rides",children:"Acessar"})]})}),s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(ma,{sx:{fontSize:40,color:"info.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Comunidades"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Gestão de comunidades ativas"}),s.jsx(N,{variant:"contained",color:"info",href:"/admin/communities",children:"Acessar"})]})}),s.jsx(G,{children:s.jsxs(Z,{sx:{textAlign:"center",py:3},children:[s.jsx(Ni,{sx:{fontSize:40,color:"warning.main",mb:2}}),s.jsx(y,{variant:"h6",gutterBottom:!0,children:"Auditoria"}),s.jsx(y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Logs e ações administrativas"}),s.jsx(N,{variant:"contained",color:"warning",href:"/admin/rides/audit",children:"Acessar"})]})})]})]})}function Rh(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(wn,{}),s.jsx(Me,{domain:"admin",title:"Dashboard Administrativo",breadcrumbs:["Dashboard"],backUrl:"/admin"}),s.jsx(yh,{})]})}function Ah(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(wn,{}),s.jsx(Me,{domain:"admin",title:"Gestão de Comunidades",breadcrumbs:["Comunidades"],backUrl:"/admin"}),s.jsx(bh,{})]})}function Dh(){return s.jsxs(pe,{maxWidth:"lg",sx:{mt:2},children:[s.jsx(wn,{}),s.jsx(Me,{domain:"admin",title:"Métricas A/B",breadcrumbs:["Métricas A/B"],backUrl:"/admin"}),s.jsx(jh,{})]})}function Th(){return s.jsxs(Mt,{children:[s.jsx(ue,{path:"/login",element:s.jsx(xh,{})}),s.jsx(ue,{path:"/",element:s.jsx(Ye,{children:s.jsx(kh,{})})}),s.jsx(ue,{path:"/dashboard",element:s.jsx(Ye,{children:s.jsx(Rh,{})})}),s.jsx(ue,{path:"/communities",element:s.jsx(Ye,{children:s.jsx(Ah,{})})}),s.jsx(ue,{path:"/metrics",element:s.jsx(Ye,{children:s.jsx(Dh,{})})}),s.jsx(ue,{path:"/rides",element:s.jsx(Ye,{children:s.jsx(wh,{})})}),s.jsx(ue,{path:"/rides/:id",element:s.jsx(Ye,{children:s.jsx(Sh,{})})}),s.jsx(ue,{path:"/rides/audit",element:s.jsx(Ye,{children:s.jsx(Oh,{})})})]})}function Ih(){return s.jsx(S,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default"},children:s.jsxs(pe,{maxWidth:"md",sx:{textAlign:"center",py:4},children:[s.jsxs(S,{sx:{mb:6},children:[s.jsx("img",{src:"/kaviar-logo.jpg",alt:"Kaviar",style:{width:120,height:"auto",marginBottom:32,borderRadius:12,boxShadow:"0 8px 32px rgba(0,0,0,0.12)"}}),s.jsx(y,{variant:"h1",component:"h1",gutterBottom:!0,sx:{fontWeight:800,color:"primary.main",letterSpacing:"-0.03em",mb:3,fontSize:{xs:"2.5rem",md:"3.5rem"}},children:"KAVIAR"}),s.jsx(y,{variant:"h4",color:"text.primary",sx:{mb:4,fontWeight:500,lineHeight:1.3,fontSize:{xs:"1.5rem",md:"2rem"}},children:"Sistema de Corridas Comunitárias Premium"}),s.jsxs(y,{variant:"h6",color:"text.secondary",sx:{mb:8,maxWidth:600,mx:"auto",fontSize:"1.25rem",lineHeight:1.5,fontWeight:400},children:["Conecte-se à sua comunidade através de transporte colaborativo inteligente.",s.jsx("br",{}),"Motoristas especializados, passageiros satisfeitos, comunidades fortalecidas."]})]}),s.jsxs(S,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:3,maxWidth:400,mx:"auto"},children:[s.jsx(N,{variant:"contained",size:"large",href:"/passageiro",sx:{py:3,px:6,width:"100%",backgroundColor:"#2e7d32",borderRadius:3,fontWeight:700,fontSize:"1.1rem",textTransform:"none",boxShadow:"0 8px 24px rgba(46, 125, 50, 0.3)","&:hover":{backgroundColor:"#1b5e20",boxShadow:"0 12px 32px rgba(46, 125, 50, 0.4)",transform:"translateY(-2px)"},transition:"all 0.3s ease"},children:"🚗 Solicitar Corrida"}),s.jsxs(S,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,width:"100%"},children:[s.jsx(N,{variant:"outlined",size:"medium",href:"/motorista",sx:{py:2,borderRadius:2,fontWeight:600,fontSize:"0.9rem",textTransform:"none",borderColor:"#ed6c02",color:"#ed6c02","&:hover":{backgroundColor:"#ed6c02",color:"white",transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:"Motorista"}),s.jsx(N,{variant:"outlined",size:"medium",href:"/login",sx:{py:2,borderRadius:2,fontWeight:600,fontSize:"0.9rem",textTransform:"none",borderColor:"#1976d2",color:"#1976d2","&:hover":{backgroundColor:"#1976d2",color:"white",transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:"Entrar"}),s.jsx(N,{variant:"outlined",size:"medium",href:"/admin",sx:{py:2,borderRadius:2,fontWeight:600,fontSize:"0.9rem",textTransform:"none",borderColor:"#d32f2f",color:"#d32f2f","&:hover":{backgroundColor:"#d32f2f",color:"white",transform:"translateY(-1px)"},transition:"all 0.2s ease"},children:"Admin"})]})]}),s.jsx(S,{sx:{mt:8,pt:4,borderTop:"1px solid",borderColor:"divider"},children:s.jsx(y,{variant:"body2",color:"text.secondary",sx:{opacity:.7},children:"© 2026 KAVIAR - Transformando mobilidade urbana"})})]})})}function _h(){return s.jsx(Gu,{children:s.jsx(sh,{children:s.jsxs(Mt,{children:[s.jsx(ue,{path:"/",element:s.jsx(Ih,{})}),s.jsx(ue,{path:"/login/*",element:s.jsx(mh,{})}),s.jsx(ue,{path:"/passageiro/*",element:s.jsx(rh,{})}),s.jsx(ue,{path:"/motorista/*",element:s.jsx(hh,{})}),s.jsx(ue,{path:"/admin/*",element:s.jsx(Th,{})})]})})})}const Bh=document.getElementById("root");Fi(Bh).render(s.jsx(bl,{children:s.jsxs(va,{theme:wl,children:[s.jsx(xa,{}),s.jsx(ya,{styles:Sl}),s.jsx(_h,{})]})}));
